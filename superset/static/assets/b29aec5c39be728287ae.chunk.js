"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8274],{88274:(t,e,r)=>{r.d(e,{Z:()=>k});var s=r(5872),o=r.n(s),i=r(67294),n=r(47859),a=r(86170),h=r(22222),l=r(68135),d=r(80644),u=r(11064),c=r(54085),p=r(74464),f=r(9330),m=r(89453),g=r(11965);function v(t){return t}const y=()=>null,P={id:"",className:"",preTransformProps:v,overrideTransformProps:void 0,postTransformProps:v,onRenderSuccess(){},onRenderFailure(){}},Z=new f.Z;class w extends i.PureComponent{constructor(){super(...arguments),this.container=void 0,this.processChartProps=(0,h.P1)((t=>t.chartProps),(t=>t.preTransformProps),(t=>t.transformProps),(t=>t.postTransformProps),(function(t,e,r,s){return void 0===e&&(e=v),void 0===r&&(r=v),void 0===s&&(s=v),s(r(e(t)))})),this.createLoadableRenderer=(0,h.P1)((t=>t.chartType),(t=>t.overrideTransformProps),((t,e)=>{if(t){const r=(0,m.Z)({loader:{Chart:()=>(0,c.Z)().getAsPromise(t),transformProps:e?()=>Promise.resolve(e):()=>(0,p.Z)().getAsPromise(t)},loading:e=>this.renderLoading(e,t),render:this.renderChart});return r.preload(),r}return y})),this.renderChart=(t,e)=>{const{Chart:r,transformProps:s}=t,{chartProps:o,preTransformProps:i,postTransformProps:n}=e;return(0,g.tZ)(r,this.processChartProps({chartProps:o,preTransformProps:i,transformProps:s,postTransformProps:n}))},this.renderLoading=(t,e)=>{const{error:r}=t;return r?(0,g.tZ)("div",{className:"alert alert-warning",role:"alert"},(0,g.tZ)("strong",null,"ERROR")," ",(0,g.tZ)("code",null,'chartType="',e,'"')," —",r.toString()):null},this.setRef=t=>{this.container=t}}render(){const{id:t,className:e,preTransformProps:r,postTransformProps:s,chartProps:i=Z,onRenderSuccess:n,onRenderFailure:a}=this.props,h=this.createLoadableRenderer(this.props);if(null===i)return null;const l={};return t&&(l.id=t),e&&(l.className=e),(0,g.tZ)("div",o()({},l,{ref:this.setRef}),(0,g.tZ)(h,{preTransformProps:r,postTransformProps:s,chartProps:i,onRenderSuccess:n,onRenderFailure:a}))}}w.defaultProps=P;var R=r(51995),D=r(61988);const b={maxWidth:800},T=R.iK.div`
  ${t=>{let{theme:e,width:r,height:s}=t;return g.iv`
    align-items: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    height: ${s}px;
    width: ${r}px;
    padding: ${4*e.gridUnit}px;

    & .no-results-title {
      font-size: ${e.typography.sizes.l}px;
      font-weight: ${e.typography.weights.bold};
      padding-bottom: ${2*e.gridUnit};
    }

    & .no-results-body {
      font-size: ${e.typography.sizes.m}px;
    }
  `}}
`,S=t=>{let{className:e,height:r,id:s,width:o}=t;const i="string"==typeof o||o>250,n=(0,D.t)("No results were returned for this query. If you expected results to be returned, ensure any filters are configured properly and the datasource contains data for the selected time range.");return(0,g.tZ)(T,{height:r,width:o,className:e,id:s,title:i?void 0:n},(0,g.tZ)("div",{style:b},(0,g.tZ)("div",{className:"no-results-title"},(0,D.t)("No Results")),i&&(0,g.tZ)("div",{className:"no-results-body"},n)))},C={FallbackComponent:function(t){let{componentStack:e,error:r,height:s,width:o}=t;return(0,g.tZ)("div",{css:t=>({backgroundColor:t.colors.grayscale.dark2,color:t.colors.grayscale.light5,overflow:"auto",padding:32}),style:{height:s,width:o}},(0,g.tZ)("div",null,(0,g.tZ)("div",null,(0,g.tZ)("b",null,"Oops! An error occurred!")),(0,g.tZ)("code",null,r?r.toString():"Unknown Error")),e&&(0,g.tZ)("div",null,(0,g.tZ)("b",null,"Stack Trace:"),(0,g.tZ)("code",null,e.split("\n").map((t=>(0,g.tZ)("div",{key:t},t))))))},height:400,width:"100%",enableNoResults:!0};class x extends i.PureComponent{constructor(){super(...arguments),this.core=void 0,this.createChartProps=f.Z.createSelector(),this.parseDimension=(0,h.P1)((t=>{let{width:e}=t;return e}),(t=>{let{height:e}=t;return e}),((t,e)=>{const r=(0,d.Z)(t),s=(0,d.Z)(e),o={height:s.isDynamic?100*s.multiplier+"%":s.value,width:r.isDynamic?100*r.multiplier+"%":r.value};return{BoundingBox:r.isDynamic&&s.isDynamic&&1===r.multiplier&&1===s.multiplier?i.Fragment:t=>{let{children:e}=t;return(0,g.tZ)("div",{style:o},e)},heightInfo:s,widthInfo:r}})),this.setRef=t=>{this.core=t},this.getQueryCount=()=>{var t,e;return null!=(t=null==(e=(0,u.Z)().get(this.props.chartType))?void 0:e.queryObjectCount)?t:1}}renderChart(t,e){const{id:r,className:s,chartType:i,preTransformProps:a,overrideTransformProps:h,postTransformProps:l,onRenderSuccess:d,onRenderFailure:u,disableErrorBoundary:c,FallbackComponent:p,onErrorBoundary:f,Wrapper:m,queriesData:v,enableNoResults:y,noResults:P,theme:Z,...R}=this.props,D=this.createChartProps({...R,queriesData:v,height:e,width:t,theme:Z});let b;if(!y||v&&!v.slice(0,this.getQueryCount()).every((t=>{let{data:e}=t;return!e||Array.isArray(e)&&0===e.length}))){const o=(0,g.tZ)(w,{ref:this.setRef,id:r,className:s,chartType:i,chartProps:D,preTransformProps:a,overrideTransformProps:h,postTransformProps:l,onRenderSuccess:d,onRenderFailure:u});b=m?(0,g.tZ)(m,{width:t,height:e},o):o}else b=P||(0,g.tZ)(S,{id:r,className:s,height:e,width:t});return!0===c?b:(0,g.tZ)(n.ZP,{FallbackComponent:r=>(0,g.tZ)(p,o()({width:t,height:e},r)),onError:f},b)}render(){const{heightInfo:t,widthInfo:e,BoundingBox:r}=this.parseDimension(this.props);if(e.isDynamic||t.isDynamic){const{debounceTime:s}=this.props;return(0,g.tZ)(r,null,(0,g.tZ)(a.Z,{debounceTime:s},(r=>{let{width:s,height:o}=r;return this.renderChart(e.isDynamic?Math.floor(s):e.value,t.isDynamic?Math.floor(o):t.value)})))}return this.renderChart(e.value,t.value)}}x.defaultProps=C;const k=(0,l.b)(x)},89453:(t,e,r)=>{r.d(e,{Z:()=>n});var s=r(68356),o=r.n(s);const i={onRenderFailure(){},onRenderSuccess(){}};function n(t){const e=o().Map(t);class r extends e{componentDidMount(){this.afterRender()}componentDidUpdate(){this.afterRender()}afterRender(){const{loaded:t,loading:e,error:r}=this.state,{onRenderFailure:s,onRenderSuccess:o}=this.props;e||(r?s(r):t&&Object.keys(t).length>0&&o())}}return r.defaultProps=void 0,r.defaultProps=i,r.preload=e.preload,r}},9330:(t,e,r)=>{r.d(e,{Z:()=>a});var s=r(22222),o=r(78036);const i=800,n=600;class a{constructor(t){void 0===t&&(t={}),this.annotationData=void 0,this.datasource=void 0,this.rawDatasource=void 0,this.initialValues=void 0,this.formData=void 0,this.rawFormData=void 0,this.height=void 0,this.hooks=void 0,this.ownState=void 0,this.filterState=void 0,this.queriesData=void 0,this.width=void 0,this.behaviors=void 0,this.appSection=void 0,this.isRefreshing=void 0,this.inputRef=void 0,this.inContextMenu=void 0,this.theme=void 0;const{annotationData:e={},datasource:r={},formData:s={},hooks:a={},ownState:h={},filterState:l={},initialValues:d={},queriesData:u=[],behaviors:c=[],width:p=i,height:f=n,appSection:m,isRefreshing:g,inputRef:v,inContextMenu:y=!1,theme:P}=t;this.width=p,this.height=f,this.annotationData=e,this.datasource=(0,o.Z)(r),this.rawDatasource=r,this.formData=(0,o.Z)(s),this.rawFormData=s,this.hooks=a,this.initialValues=d,this.queriesData=u,this.ownState=h,this.filterState=l,this.behaviors=c,this.appSection=m,this.isRefreshing=g,this.inputRef=v,this.inContextMenu=y,this.theme=P}}a.createSelector=void 0,a.createSelector=function(){return(0,s.P1)((t=>t.annotationData),(t=>t.datasource),(t=>t.formData),(t=>t.height),(t=>t.hooks),(t=>t.initialValues),(t=>t.queriesData),(t=>t.width),(t=>t.ownState),(t=>t.filterState),(t=>t.behaviors),(t=>t.appSection),(t=>t.isRefreshing),(t=>t.inputRef),(t=>t.inContextMenu),(t=>t.theme),((t,e,r,s,o,i,n,h,l,d,u,c,p,f,m,g)=>new a({annotationData:t,datasource:e,formData:r,height:s,hooks:o,initialValues:i,queriesData:n,ownState:l,filterState:d,width:h,behaviors:u,appSection:c,isRefreshing:p,inputRef:f,inContextMenu:m,theme:g})))}},80644:(t,e,r)=>{r.d(e,{Z:()=>o});const s={isDynamic:!0,multiplier:1};function o(t){return"auto"===t||"100%"===t?s:"string"==typeof t&&t.length>0&&"%"===t[t.length-1]?{isDynamic:!0,multiplier:parseFloat(t)/100}:{isDynamic:!1,value:"number"==typeof t?t:parseFloat(t)}}},78036:(t,e,r)=>{r.d(e,{Z:()=>l});var s=r(68929),o=r.n(s),i=r(68630),n=r.n(i),a=r(67523),h=r.n(a);function l(t){if(null==t)return t;if(n()(t))return h()(t,((t,e)=>o()(e)));throw new Error(`Cannot convert input that is not a plain object: ${t}`)}}}]);
//# sourceMappingURL=b29aec5c39be728287ae.chunk.js.map