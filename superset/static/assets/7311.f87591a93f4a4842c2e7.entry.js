(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[7311],{84548:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RESET_STATE:()=>g,ADD_QUERY_EDITOR:()=>f,UPDATE_QUERY_EDITOR:()=>R,QUERY_EDITOR_SAVED:()=>I,CLONE_QUERY_TO_NEW_TAB:()=>b,REMOVE_QUERY_EDITOR:()=>N,MERGE_TABLE:()=>v,REMOVE_TABLES:()=>L,END_QUERY:()=>D,REMOVE_QUERY:()=>O,EXPAND_TABLE:()=>U,COLLAPSE_TABLE:()=>w,QUERY_EDITOR_SETDB:()=>C,QUERY_EDITOR_SET_SCHEMA:()=>P,QUERY_EDITOR_SET_SCHEMA_OPTIONS:()=>x,QUERY_EDITOR_SET_TABLE_OPTIONS:()=>Z,QUERY_EDITOR_SET_TITLE:()=>q,QUERY_EDITOR_SET_AUTORUN:()=>$,QUERY_EDITOR_SET_SQL:()=>Q,QUERY_EDITOR_SET_QUERY_LIMIT:()=>B,QUERY_EDITOR_SET_TEMPLATE_PARAMS:()=>M,QUERY_EDITOR_SET_SELECTED_TEXT:()=>Y,QUERY_EDITOR_SET_FUNCTION_NAMES:()=>H,QUERY_EDITOR_PERSIST_HEIGHT:()=>k,QUERY_EDITOR_TOGGLE_LEFT_BAR:()=>K,MIGRATE_QUERY_EDITOR:()=>V,MIGRATE_TAB_HISTORY:()=>F,MIGRATE_TABLE:()=>G,MIGRATE_QUERY:()=>W,SET_DATABASES:()=>j,SET_ACTIVE_QUERY_EDITOR:()=>z,LOAD_QUERY_EDITOR:()=>X,SET_TABLES:()=>J,SET_ACTIVE_SOUTHPANE_TAB:()=>ee,REFRESH_QUERIES:()=>te,SET_USER_OFFLINE:()=>re,RUN_QUERY:()=>ne,START_QUERY:()=>oe,STOP_QUERY:()=>ae,REQUEST_QUERY_RESULTS:()=>ie,QUERY_SUCCESS:()=>se,QUERY_FAILED:()=>le,CLEAR_QUERY_RESULTS:()=>ue,REMOVE_DATA_PREVIEW:()=>ce,CHANGE_DATA_PREVIEW_ID:()=>de,START_QUERY_VALIDATION:()=>Ee,QUERY_VALIDATION_RETURNED:()=>_e,QUERY_VALIDATION_FAILED:()=>me,COST_ESTIMATE_STARTED:()=>pe,COST_ESTIMATE_RETURNED:()=>he,COST_ESTIMATE_FAILED:()=>Te,CREATE_DATASOURCE_STARTED:()=>ye,CREATE_DATASOURCE_SUCCESS:()=>Se,CREATE_DATASOURCE_FAILED:()=>Ae,addInfoToast:()=>ge,addSuccessToast:()=>fe,addDangerToast:()=>Re,addWarningToast:()=>Ie,CtasEnum:()=>be,getUpToDateQuery:()=>Ue,resetState:()=>we,startQueryValidation:()=>Ce,queryValidationReturned:()=>Pe,queryValidationFailed:()=>xe,updateQueryEditor:()=>Ze,scheduleQuery:()=>qe,estimateQueryCost:()=>$e,startQuery:()=>Qe,querySuccess:()=>Be,queryFailed:()=>Me,stopQuery:()=>Ye,clearQueryResults:()=>He,removeDataPreview:()=>ke,requestQueryResults:()=>Ke,fetchQueryResults:()=>Ve,runQuery:()=>Fe,runQueryFromSqlEditor:()=>Ge,reRunQuery:()=>We,validateQuery:()=>je,postStopQuery:()=>ze,setDatabases:()=>Xe,migrateQueryEditorFromLocalStorage:()=>Je,addQueryEditor:()=>et,cloneQueryToNewTab:()=>tt,setActiveQueryEditor:()=>rt,loadQueryEditor:()=>nt,setTables:()=>ot,switchQueryEditor:()=>at,setActiveSouthPaneTab:()=>it,toggleLeftBar:()=>st,removeQueryEditor:()=>lt,removeAllOtherQueryEditors:()=>ut,removeQuery:()=>ct,queryEditorSetDb:()=>dt,queryEditorSetSchema:()=>Et,queryEditorSetSchemaOptions:()=>_t,queryEditorSetTableOptions:()=>mt,queryEditorSetAutorun:()=>pt,queryEditorSetTitle:()=>ht,saveQuery:()=>Tt,addSavedQueryToTabState:()=>yt,updateSavedQuery:()=>St,queryEditorSetSql:()=>At,queryEditorSetAndSaveSql:()=>gt,queryEditorSetQueryLimit:()=>ft,queryEditorSetTemplateParams:()=>Rt,queryEditorSetSelectedText:()=>It,mergeTable:()=>bt,addTable:()=>Lt,changeDataPreviewId:()=>Dt,reFetchQueryResults:()=>Ot,expandTable:()=>Ut,collapseTable:()=>wt,removeTables:()=>Ct,refreshQueries:()=>Pt,setUserOffline:()=>xt,persistEditorHeight:()=>Zt,popStoredQuery:()=>qt,popSavedQuery:()=>$t,popQuery:()=>Qt,popDatasourceQuery:()=>Bt,createDatasourceStarted:()=>Mt,createDatasourceSuccess:()=>Yt,createDatasourceFailed:()=>Ht,createDatasource:()=>kt,createCtasDatasource:()=>Kt,queryEditorSetFunctionNames:()=>Vt});var n=r(78580),o=r.n(n),a=r(14670),i=r.n(a),s=r(4400),l=r.n(s),u=r(61988),c=r(31069),d=r(63137),E=r.n(d),_=r(67523),m=r.n(_),p=r(91877),h=r(93185),T=r(44814),y=r(72570),S=r(98286),A=r(66785);const g="RESET_STATE",f="ADD_QUERY_EDITOR",R="UPDATE_QUERY_EDITOR",I="QUERY_EDITOR_SAVED",b="CLONE_QUERY_TO_NEW_TAB",N="REMOVE_QUERY_EDITOR",v="MERGE_TABLE",L="REMOVE_TABLES",D="END_QUERY",O="REMOVE_QUERY",U="EXPAND_TABLE",w="COLLAPSE_TABLE",C="QUERY_EDITOR_SETDB",P="QUERY_EDITOR_SET_SCHEMA",x="QUERY_EDITOR_SET_SCHEMA_OPTIONS",Z="QUERY_EDITOR_SET_TABLE_OPTIONS",q="QUERY_EDITOR_SET_TITLE",$="QUERY_EDITOR_SET_AUTORUN",Q="QUERY_EDITOR_SET_SQL",B="QUERY_EDITOR_SET_QUERY_LIMIT",M="QUERY_EDITOR_SET_TEMPLATE_PARAMS",Y="QUERY_EDITOR_SET_SELECTED_TEXT",H="QUERY_EDITOR_SET_FUNCTION_NAMES",k="QUERY_EDITOR_PERSIST_HEIGHT",K="QUERY_EDITOR_TOGGLE_LEFT_BAR",V="MIGRATE_QUERY_EDITOR",F="MIGRATE_TAB_HISTORY",G="MIGRATE_TABLE",W="MIGRATE_QUERY",j="SET_DATABASES",z="SET_ACTIVE_QUERY_EDITOR",X="LOAD_QUERY_EDITOR",J="SET_TABLES",ee="SET_ACTIVE_SOUTHPANE_TAB",te="REFRESH_QUERIES",re="SET_USER_OFFLINE",ne="RUN_QUERY",oe="START_QUERY",ae="STOP_QUERY",ie="REQUEST_QUERY_RESULTS",se="QUERY_SUCCESS",le="QUERY_FAILED",ue="CLEAR_QUERY_RESULTS",ce="REMOVE_DATA_PREVIEW",de="CHANGE_DATA_PREVIEW_ID",Ee="START_QUERY_VALIDATION",_e="QUERY_VALIDATION_RETURNED",me="QUERY_VALIDATION_FAILED",pe="COST_ESTIMATE_STARTED",he="COST_ESTIMATE_RETURNED",Te="COST_ESTIMATE_FAILED",ye="CREATE_DATASOURCE_STARTED",Se="CREATE_DATASOURCE_SUCCESS",Ae="CREATE_DATASOURCE_FAILED",ge=y.bM,fe=y.ws,Re=y.Gb,Ie=y.Dz,be={TABLE:"TABLE",VIEW:"VIEW"},Ne=(0,u.t)("The query couldn't be loaded"),ve={id:"remoteId",db_id:"dbId",client_id:"id",label:"name"},Le=e=>t=>m()(t,((t,r)=>r in e?e[r]:r)),De=Le(E()(ve)),Oe=Le(ve);function Ue(e,t,r){const{sqlLab:{unsavedQueryEditor:n}}=e,o=null!=r?r:t.id;return{...t,...o===n.id&&n}}function we(){return{type:g}}function Ce(e){return Object.assign(e,{id:e.id?e.id:i().generate()}),{type:Ee,query:e}}function Pe(e,t){return{type:_e,query:e,results:t}}function xe(e,t,r){return{type:me,query:e,message:t,error:r}}function Ze(e){return{type:R,alterations:e}}function qe(e){return t=>c.Z.post({endpoint:"/savedqueryviewapi/api/create",postPayload:e,stringify:!1}).then((()=>t(fe((0,u.t)("Your query has been scheduled. To see details of your query, navigate to Saved queries"))))).catch((()=>t(Re((0,u.t)("Your query could not be scheduled")))))}function $e(e){return(t,r)=>{const{dbId:n,schema:o,sql:a,selectedText:i,templateParams:s}=Ue(r(),e),l=i||a,d=null===o?`/superset/estimate_query_cost/${n}/`:`/superset/estimate_query_cost/${n}/${o}/`;return Promise.all([t({type:pe,query:e}),c.Z.post({endpoint:d,postPayload:{sql:l,templateParams:JSON.parse(s||"{}")}}).then((r=>{let{json:n}=r;return t({type:he,query:e,json:n})})).catch((r=>(0,S.O)(r).then((r=>{const n=r.error||r.statusText||(0,u.t)("Failed at retrieving results");return t({type:Te,query:e,error:n})}))))])}}function Qe(e){return Object.assign(e,{id:e.id?e.id:i().generate(),progress:0,startDttm:(0,T.zO)(),state:e.runAsync?"pending":"running",cached:!1}),{type:oe,query:e}}function Be(e,t){return function(r){return(!e.isDataPreview&&(0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:encodeURI(`/tabstateview/${t.query.sqlEditorId}`),postPayload:{latest_query_id:e.id}}):Promise.resolve()).then((()=>r({type:se,query:e,results:t}))).catch((()=>r(Re((0,u.t)("An error occurred while storing the latest query id in the backend. Please contact your administrator if this problem persists.")))))}}function Me(e,t,r,n){return function(o){return(!e.isDataPreview&&(0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:encodeURI(`/tabstateview/${e.sqlEditorId}`),postPayload:{latest_query_id:e.id}}):Promise.resolve()).catch((()=>o(Re((0,u.t)("An error occurred while storing the latest query id in the backend. Please contact your administrator if this problem persists."))))).then((()=>o({type:le,query:e,msg:t,link:r,errors:n})))}}function Ye(e){return{type:ae,query:e}}function He(e){return{type:ue,query:e}}function ke(e){return{type:ce,table:e}}function Ke(e){return{type:ie,query:e}}function Ve(e,t){return function(r){return r(Ke(e)),c.Z.get({endpoint:`/superset/results/${e.resultsKey}/?rows=${t}`,parseMethod:"text"}).then((t=>{let{text:n="{}"}=t;const o=l().parse(n);return r(Be(e,o))})).catch((t=>(0,S.O)(t).then((t=>{const n=t.error||t.statusText||(0,u.t)("Failed at retrieving results");return r(Me(e,n,t.link,t.errors))}))))}}function Fe(e){return function(t){t(Qe(e));const r={client_id:e.id,database_id:e.dbId,json:!0,runAsync:e.runAsync,schema:e.schema,sql:e.sql,sql_editor_id:e.sqlEditorId,tab:e.tab,tmp_table_name:e.tempTable,select_as_cta:e.ctas,ctas_method:e.ctas_method,templateParams:e.templateParams,queryLimit:e.queryLimit,expand_data:!0},n=window.location.search||"";return c.Z.post({endpoint:`/superset/sql_json/${n}`,body:JSON.stringify(r),headers:{"Content-Type":"application/json"},parseMethod:"text"}).then((r=>{let{text:n="{}"}=r;if(!e.runAsync){const r=l().parse(n);t(Be(e,r))}})).catch((r=>(0,S.O)(r).then((r=>{let n=r.error||r.statusText||(0,u.t)("Unknown error");o()(n).call(n,"CSRF token")&&(n=(0,u.t)(A.Z.SESSION_TIMED_OUT)),t(Me(e,n,r.link,r.errors))}))))}}function Ge(e,t,r,n,o,a){return function(i,s){const l=Ue(s(),t,t.id);i(Fe({dbId:l.dbId,sql:l.selectedText||l.sql,sqlEditorId:l.id,tab:l.name,schema:l.schema,tempTable:n,templateParams:l.templateParams,queryLimit:l.queryLimit||r,runAsync:!!e&&e.allow_run_async,ctas:o,ctas_method:a,updateTabState:!l.selectedText}))}}function We(e){return function(t){t(Fe({...e,id:i().generate()}))}}function je(e,t){return function(r,n){const{sqlLab:{unsavedQueryEditor:a}}=n(),i={...e,...e.id===a.id&&a},s={dbId:i.dbId,sql:t,sqlEditorId:i.id,schema:i.schema,templateParams:i.templateParams};r(Ce(s));const l={schema:s.schema,sql:s.sql,template_params:s.templateParams};return c.Z.post({endpoint:`/api/v1/database/${s.dbId}/validate_sql/`,body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((e=>{let{json:t}=e;return r(Pe(s,t.result))})).catch((e=>(0,S.O)(e.result).then((e=>{let t=e.error||e.statusText||(0,u.t)("Unknown error");o()(t).call(t,"CSRF token")&&(t=(0,u.t)(A.Z.SESSION_TIMED_OUT)),r(xe(s,t,e))}))))}}function ze(e){return function(t){return c.Z.post({endpoint:"/superset/stop_query/",postPayload:{client_id:e.id},stringify:!1}).then((()=>t(Ye(e)))).then((()=>t(fe((0,u.t)("Query was stopped."))))).catch((()=>t(Re((0,u.t)("Failed at stopping query. %s",e.id)))))}}function Xe(e){return{type:j,databases:e}}function Je(e,t,r){return function(n){return c.Z.post({endpoint:"/tabstateview/",postPayload:{queryEditor:e}}).then((o=>{let{json:a}=o;const i={...e,id:a.id.toString()};return n({type:V,oldQueryEditor:e,newQueryEditor:i}),n({type:F,oldId:e.id,newId:i.id}),Promise.all([...t.map((e=>function(e,t,r){return c.Z.post({endpoint:encodeURI("/tableschemaview/"),postPayload:{table:{...e,queryEditorId:t}}}).then((n=>{let{json:o}=n;const a={...e,id:o.id,queryEditorId:t};return r({type:G,oldTable:e,newTable:a})})).catch((()=>r(Ie((0,u.t)("Unable to migrate table schema state to backend. Superset will retry later. Please contact your administrator if this problem persists.")))))}(e,i.id,n))),...r.map((e=>function(e,t,r){return c.Z.post({endpoint:encodeURI(`/tabstateview/${t}/migrate_query`),postPayload:{queryId:e}}).then((()=>r({type:W,queryId:e,queryEditorId:t}))).catch((()=>r(Ie((0,u.t)("Unable to migrate query state to backend. Superset will retry later. Please contact your administrator if this problem persists.")))))}(e.id,i.id,n)))])})).catch((()=>n(Ie((0,u.t)("Unable to migrate query editor state to backend. Superset will retry later. Please contact your administrator if this problem persists.")))))}}function et(e){return function(t){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.post({endpoint:"/tabstateview/",postPayload:{queryEditor:e}}):Promise.resolve({json:{id:i().generate()}})).then((r=>{let{json:n}=r;const o={...e,id:n.id.toString()};return t({type:f,queryEditor:o})})).catch((()=>t(Re((0,u.t)("Unable to add a new tab to the backend. Please contact your administrator.")))))}}function tt(e,t){return function(r,n){const o=n(),{queryEditors:a,tabHistory:i}=o.sqlLab,s=a.find((e=>e.id===i[i.length-1]));return r(et({name:(0,u.t)("Copy of %s",s.name),dbId:e.dbId?e.dbId:null,schema:e.schema?e.schema:null,autorun:t,sql:e.sql,queryLimit:s.queryLimit,maxRow:s.maxRow,templateParams:s.templateParams}))}}function rt(e){return function(t){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.post({endpoint:encodeURI(`/tabstateview/${e.id}/activate`)}):Promise.resolve()).then((()=>t({type:z,queryEditor:e}))).catch((r=>404!==r.status?t(Re((0,u.t)("An error occurred while setting the active tab. Please contact your administrator."))):t({type:N,queryEditor:e})))}}function nt(e){return{type:X,queryEditor:e}}function ot(e){const t=e.filter((e=>null!==e.description)).map((e=>{const{columns:t,selectStar:r,primaryKey:n,foreignKeys:o,indexes:a,dataPreviewQueryId:i}=e.description;return{dbId:e.database_id,queryEditorId:e.tab_state_id.toString(),schema:e.schema,name:e.table,expanded:e.expanded,id:e.id,dataPreviewQueryId:i,columns:t,selectStar:r,primaryKey:n,foreignKeys:o,indexes:a,isMetadataLoading:!1,isExtraMetadataLoading:!1}}));return{type:J,tables:t}}function at(e,t){return function(r){(0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)&&e&&!e.loaded?c.Z.get({endpoint:encodeURI(`/tabstateview/${e.id}`)}).then((e=>{var n,o;let{json:a}=e;const i={id:a.id.toString(),loaded:!0,name:a.label,sql:a.sql,selectedText:null,latestQueryId:null==(n=a.latest_query)?void 0:n.id,autorun:a.autorun,dbId:a.database_id,templateParams:a.template_params,schema:a.schema,queryLimit:a.query_limit,remoteId:null==(o=a.saved_query)?void 0:o.id,validationResult:{id:null,errors:[],completed:!1},hideLeftBar:a.hide_left_bar};r(nt(i)),r(ot(a.table_schemas||[])),r(rt(i)),a.latest_query&&a.latest_query.resultsKey&&r(Ve(a.latest_query,t))})).catch((t=>404!==t.status?r(Re((0,u.t)("An error occurred while fetching tab state"))):r({type:N,queryEditor:e}))):r(rt(e))}}function it(e){return{type:ee,tabId:e}}function st(e){const t=!e.hideLeftBar;return function(r){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{hide_left_bar:t}}):Promise.resolve()).then((()=>r({type:K,queryEditor:e,hideLeftBar:t}))).catch((()=>r(Re((0,u.t)("An error occurred while hiding the left bar. Please contact your administrator.")))))}}function lt(e){return function(t){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.delete({endpoint:encodeURI(`/tabstateview/${e.id}`)}):Promise.resolve()).then((()=>t({type:N,queryEditor:e}))).catch((()=>t(Re((0,u.t)("An error occurred while removing tab. Please contact your administrator.")))))}}function ut(e){return function(t,r){var n;const{sqlLab:o}=r();null==(n=o.queryEditors)||n.forEach((r=>{r.id!==e.id&&t(lt(r))}))}}function ct(e){return function(t){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.delete({endpoint:encodeURI(`/tabstateview/${e.sqlEditorId}/query/${e.id}`)}):Promise.resolve()).then((()=>t({type:O,query:e}))).catch((()=>t(Re((0,u.t)("An error occurred while removing query. Please contact your administrator.")))))}}function dt(e,t){return function(r){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{database_id:t}}):Promise.resolve()).then((()=>r({type:C,queryEditor:e,dbId:t}))).catch((()=>r(Re((0,u.t)("An error occurred while setting the tab database ID. Please contact your administrator.")))))}}function Et(e,t){return function(r){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)&&"object"==typeof e?c.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{schema:t}}):Promise.resolve()).then((()=>r({type:P,queryEditor:e||{},schema:t}))).catch((()=>r(Re((0,u.t)("An error occurred while setting the tab schema. Please contact your administrator.")))))}}function _t(e,t){return{type:x,queryEditor:e,options:t}}function mt(e,t){return{type:Z,queryEditor:e,options:t}}function pt(e,t){return function(r){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{autorun:t}}):Promise.resolve()).then((()=>r({type:$,queryEditor:e,autorun:t}))).catch((()=>r(Re((0,u.t)("An error occurred while setting the tab autorun. Please contact your administrator.")))))}}function ht(e,t){return function(r){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{label:t}}):Promise.resolve()).then((()=>r({type:q,queryEditor:e,name:t}))).catch((()=>r(Re((0,u.t)("An error occurred while setting the tab name. Please contact your administrator.")))))}}function Tt(e){return t=>c.Z.post({endpoint:"/savedqueryviewapi/api/create",postPayload:De(e),stringify:!1}).then((r=>{const n=Oe(r.json.item);return t({type:I,query:e,result:n}),t(ht(e,e.name)),n})).catch((()=>t(Re((0,u.t)("Your query could not be saved")))))}const yt=(e,t)=>r=>((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:`/tabstateview/${e.id}`,postPayload:{saved_query_id:t.remoteId}}):Promise.resolve()).catch((()=>{r(Re((0,u.t)("Your query was not properly saved")))})).then((()=>{r(fe((0,u.t)("Your query was saved")))}));function St(e){return t=>c.Z.put({endpoint:`/savedqueryviewapi/api/update/${e.remoteId}`,postPayload:De(e),stringify:!1}).then((()=>{t(fe((0,u.t)("Your query was updated"))),t(ht(e,e.name))})).catch((e=>{const r=(0,u.t)("Your query could not be updated");console.error(r,e),t(Re(r))})).then((()=>t(Ze(e))))}function At(e,t){return{type:Q,queryEditor:e,sql:t}}function gt(e,t){return function(r,n){const o=Ue(n(),e);return r(At(o,t)),(0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:encodeURI(`/tabstateview/${o.id}`),postPayload:{sql:t,latest_query_id:o.latestQueryId}}).catch((()=>r(Re((0,u.t)('An error occurred while storing your query in the backend. To avoid losing your changes, please save your query using the "Save Query" button.'))))):Promise.resolve()}}function ft(e,t){return function(r){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{query_limit:t}}):Promise.resolve()).then((()=>r({type:B,queryEditor:e,queryLimit:t}))).catch((()=>r(Re((0,u.t)("An error occurred while setting the tab name. Please contact your administrator.")))))}}function Rt(e,t){return function(r){return r({type:M,queryEditor:e,templateParams:t}),((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{template_params:t}}):Promise.resolve()).catch((()=>r(Re((0,u.t)("An error occurred while setting the tab template parameters. Please contact your administrator.")))))}}function It(e,t){return{type:Y,queryEditor:e,sql:t}}function bt(e,t,r){return{type:v,table:e,query:t,prepend:r}}function Nt(e,t,r){return c.Z.get({endpoint:encodeURI(`/api/v1/database/${t.dbId}/table/${encodeURIComponent(e.name)}/${encodeURIComponent(e.schema)}/`)}).then((t=>{let{json:n}=t;const o={...e,...n,expanded:!0,isMetadataLoading:!1};return r(bt(o)),o})).catch((()=>Promise.all([r(bt({...e,isMetadataLoading:!1})),r(Re((0,u.t)("An error occurred while fetching table metadata")))])))}function vt(e,t,r){return c.Z.get({endpoint:encodeURI(`/api/v1/database/${t.dbId}/table_extra/${encodeURIComponent(e.name)}/${encodeURIComponent(e.schema)}/`)}).then((t=>{let{json:n}=t;return r(bt({...e,...n,isExtraMetadataLoading:!1})),n})).catch((()=>Promise.all([r(bt({...e,isExtraMetadataLoading:!1})),r(Re((0,u.t)("An error occurred while fetching table metadata")))])))}function Lt(e,t,r,n){return function(o){const a={dbId:e.dbId,queryEditorId:e.id,schema:n,name:r};return o(bt({...a,isMetadataLoading:!0,isExtraMetadataLoading:!0,expanded:!0},null,!0)),Promise.all([Nt(a,e,o),vt(a,e,o)]).then((r=>{let[n,s]=r;const l=(0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.post({endpoint:encodeURI("/tableschemaview/"),postPayload:{table:{...n,...s}}}):Promise.resolve({json:{id:i().generate()}});if(!t.disable_data_preview&&t.id===e.dbId){const r={id:i().generate(),dbId:e.dbId,sql:n.selectStar,tableName:a.name,sqlEditorId:null,tab:"",runAsync:t.allow_run_async,ctas:!1,isDataPreview:!0};Promise.all([o(bt({...n,dataPreviewQueryId:r.id},r)),o(Fe(r))])}return l.then((e=>{let{json:t}=e;return o(bt({...a,id:t.id}))})).catch((()=>o(Re((0,u.t)("An error occurred while fetching table metadata. Please contact your administrator.")))))}))}}function Dt(e,t){return{type:de,oldQueryId:e,newQuery:t}}function Ot(e){return function(t){const r={id:i().generate(),dbId:e.dbId,sql:e.sql,tableName:e.tableName,sqlEditorId:null,tab:"",runAsync:!1,ctas:!1,queryLimit:e.queryLimit,isDataPreview:e.isDataPreview};t(Fe(r)),t(Dt(e.id,r))}}function Ut(e){return function(t){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.post({endpoint:encodeURI(`/tableschemaview/${e.id}/expanded`),postPayload:{expanded:!0}}):Promise.resolve()).then((()=>t({type:U,table:e}))).catch((()=>t(Re((0,u.t)("An error occurred while expanding the table schema. Please contact your administrator.")))))}}function wt(e){return function(t){return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?c.Z.post({endpoint:encodeURI(`/tableschemaview/${e.id}/expanded`),postPayload:{expanded:!1}}):Promise.resolve()).then((()=>t({type:w,table:e}))).catch((()=>t(Re((0,u.t)("An error occurred while collapsing the table schema. Please contact your administrator.")))))}}function Ct(e){return function(t){var r;const n=null!=(r=null==e?void 0:e.filter(Boolean))?r:[];return((0,p.cr)(h.T.SQLLAB_BACKEND_PERSISTENCE)?Promise.all(n.map((e=>c.Z.delete({endpoint:encodeURI(`/tableschemaview/${e.id}`)})))):Promise.resolve()).then((()=>t({type:L,tables:n}))).catch((()=>t(Re((0,u.t)("An error occurred while removing the table schema. Please contact your administrator.")))))}}function Pt(e){return{type:te,alteredQueries:e}}function xt(e){return{type:re,offline:e}}function Zt(e,t,r){return{type:k,queryEditor:e,northPercent:t,southPercent:r}}function qt(e){return function(t){return c.Z.get({endpoint:`/kv/${e}`}).then((e=>{let{json:r}=e;return t(et({name:r.name?r.name:(0,u.t)("Shared query"),dbId:r.dbId?parseInt(r.dbId,10):null,schema:r.schema?r.schema:null,autorun:!!r.autorun&&r.autorun,sql:r.sql?r.sql:"SELECT ..."}))})).catch((()=>t(Re(Ne))))}}function $t(e){return function(t){return c.Z.get({endpoint:`/savedqueryviewapi/api/get/${e}`}).then((e=>{let{json:r}=e;const n={...Oe(r.result),loaded:!0,autorun:!1};return t(et(n))})).catch((()=>t(Re(Ne))))}}function Qt(e){return function(t){return c.Z.get({endpoint:`/api/v1/query/${e}`}).then((e=>{let{json:r}=e;const n=r.result,o={dbId:n.database.id,schema:n.schema,sql:n.sql,name:`Copy of ${n.tab_name}`,autorun:!1};return t(et(o))})).catch((()=>t(Re(Ne))))}}function Bt(e,t){return function(r){return c.Z.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${e}`}).then((e=>{let{json:n}=e;return r(et({name:`Query ${n.name}`,dbId:n.database.id,schema:n.schema,autorun:void 0!==t,sql:t||n.select_star}))})).catch((()=>r(Re((0,u.t)("The datasource couldn't be loaded")))))}}function Mt(){return{type:ye}}function Yt(e){const t=`${e.table_id}__table`;return{type:Se,datasource:t}}function Ht(e){return{type:Ae,err:e}}function kt(e){return t=>(t(Mt()),c.Z.post({endpoint:"/superset/sqllab_viz/",postPayload:{data:e}}).then((e=>{let{json:r}=e;return t(Yt(r)),Promise.resolve(r)})).catch((e=>((0,S.O)(e).then((e=>{t(Re(e.error))})),t(Ht((0,u.t)("An error occurred while creating the data source"))),Promise.reject()))))}function Kt(e){return t=>(t(Mt()),c.Z.post({endpoint:"/superset/get_or_create_table/",postPayload:{data:e}}).then((e=>{let{json:r}=e;return t(Yt(r)),r})).catch((()=>{const e=(0,u.t)("An error occurred while creating the data source");return t(Ht(e)),Promise.reject(new Error(e))})))}function Vt(e,t){return function(r){return c.Z.get({endpoint:encodeURI(`/api/v1/database/${t}/function_names/`)}).then((t=>{let{json:n}=t;return r({type:H,queryEditor:e,functionNames:n.function_names})})).catch((t=>{404===t.status?r({type:H,queryEditor:e,functionNames:[]}):r(Re((0,u.t)("An error occurred while fetching function names.")))}))}}},12515:(e,t,r)=>{"use strict";r.d(t,{Jp:()=>S,xW:()=>f,y8:()=>I,kN:()=>b,H6:()=>N,kP:()=>v,u:()=>L,pd:()=>D,pe:()=>O,AH:()=>U,bX:()=>w,CB:()=>C,mG:()=>P});var n=r(78580),o=r.n(n),a=r(67294),i=r(54998),s=r.n(i),l=r(11064),u=r(19427),c=r(61654),d=r(31069),E=r(55786),_=r(86374),m=r(9679),p=r(54076),h=r(27600),T=r(69856),y=r(80621);function S(e){var t,r;const{slice:n,form_data:o}=e;return null!=(t=null!=(r=null==n?void 0:n.slice_id)?r:null==o?void 0:o.slice_id)?t:T.xA}let A=0;function g(e){void 0===e&&(e=!1);let t=0;return e&&(t=A%_.X.length,A+=1,0===t&&(t+=1,A+=1)),_.X[t]}function f(e,t,r,n){if(null==e)return null;const o=r?"annotation_json":"slice_json";return s()(window.location.search).pathname(`/superset/${o}/${e}`).search({form_data:(0,m.o)(t,((e,t)=>null===t?void 0:t)),force:n}).toString()}function R(e){var t;return void 0===e&&(e="base"),o()(t=["full","json","csv","query","results","samples"]).call(t,e)?"/superset/explore_json/":"/explore/"}function I(e,t,r){void 0===t&&(t={}),void 0===r&&(r=!1);const n=new(s())("/"),o=R(e),a=n.search(!0);return Object.keys(t).forEach((e=>{a[e]=t[e]})),e===h.KD.standalone.name&&(r&&(a.force="1"),a.standalone=y._B.HIDE_NAV),n.directory(o).search(a).toString()}function b(e){let{path:t,qs:r,allowDomainSharding:n=!1}=e,o=new(s())({protocol:window.location.protocol.slice(0,-1),hostname:g(n),port:window.location.port?window.location.port:"",path:t});return r&&(o=o.search(r)),o}function N(e){let{formData:t,endpointType:r="base",force:n=!1,curUrl:o=null,requestParams:a={},allowDomainSharding:i=!1,method:l="POST"}=e;if(!t.datasource)return null;delete t.label_colors;let u=b({path:"/",allowDomainSharding:i});o&&(u=s()(s()(o).search()));const c=R(r),d=u.search(!0),{slice_id:E,extra_filters:_,adhoc_filters:p,viz_type:T}=t;if(E){const e={slice_id:E};"GET"===l&&(e.viz_type=T,_&&_.length&&(e.extra_filters=_),p&&p.length&&(e.adhoc_filters=p)),d.form_data=(0,m.o)(e)}n&&(d.force="true"),"csv"===r&&(d.csv="true"),r===h.KD.standalone.name&&(d.standalone="1"),"query"===r&&(d.query="true"),"results"===r&&(d.results="true"),"samples"===r&&(d.samples="true");const y=Object.keys(a);return y.length&&y.forEach((e=>{a.hasOwnProperty(e)&&(d[e]=a[e])})),u.search(d).directory(c).toString()}const v=e=>{const t=(0,l.Z)().get(e.viz_type);return!!t&&t.useLegacyApi},L=e=>{var t;let{formData:r,force:n,resultFormat:o,resultType:a,setDataMask:i,ownState:s}=e;return(null!=(t=(0,u.Z)().get(r.viz_type))?t:e=>(0,c.Z)(e,(e=>[{...e}])))({...r,force:n,result_format:o,result_type:a},{ownState:s,hooks:{setDataMask:i}})},D=e=>{let{resultType:t,resultFormat:r}=e;return"csv"===r?r:t},O=e=>{let t,r,{formData:n,resultFormat:o="json",resultType:a="full",force:i=!1,ownState:s={}}=e;v(n)?(t=N({formData:n,endpointType:D({resultFormat:o,resultType:a}),allowDomainSharding:!1}),r=n):(t="/api/v1/chart/data",r=L({formData:n,force:i,resultFormat:o,resultType:a,ownState:s})),d.Z.postForm(t,{form_data:(0,m.o)(r)})},U=(e,t)=>{const r=N({formData:e,endpointType:"base",allowDomainSharding:!1,requestParams:t});d.Z.postForm(r,{form_data:(0,m.o)(e)})},w=(e,t,r)=>{const n=(0,a.useCallback)(e,r);(0,a.useEffect)((()=>{const e=setTimeout((()=>{n()}),t);return()=>{clearTimeout(e)}}),[n,t])},C=(e,t,r)=>{const n=[...T.qK].map((e=>T.LT[e].operation)).indexOf(t)>=0;let o=null!=e?e:"";if(e&&t){o+=` ${t}`;const e=n&&Array.isArray(r)?r[0]:r,a=(0,E.Z)(r),i=void 0!==e&&Number.isNaN(Number(e)),s=i?"'":"",[l,u]=n?["(",")"]:["",""],c=a.map((e=>(0,p.lo)(e))).map((e=>`${s}${i?String(e).replace("'","''"):e}${s}`));a.length>0&&(o+=` ${l}${c.join(", ")}${u}`)}return o};function P(e){return e.map((e=>[e,e.toString()]))}},79217:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});const n=e=>{var t;return{columns:e.columns,name:(null==e?void 0:e.datasource_name)||(null==e?void 0:e.name)||"Untitled",dbId:(null==e||null==(t=e.database)?void 0:t.id)||(null==e?void 0:e.dbId),sql:(null==e?void 0:e.sql)||"",schema:null==e?void 0:e.schema}}},44814:(e,t,r)=>{"use strict";r.d(t,{zQ:()=>a,zO:()=>i});var n=r(30381),o=r.n(n);const a=function(e,t,r){void 0===r&&(r="HH:mm:ss.SS");const n=t-e;return o()(new Date(n)).utc().format(r)},i=function(){return o()().utc().valueOf()}},86374:(e,t,r)=>{"use strict";r.d(t,{X:()=>a,_:()=>i});var n=r(91877),o=r(93185);const a=function(){var e;const t=document.getElementById("app");if(!t)return[];const r=new Set([window.location.hostname]);if("1"===new URLSearchParams(window.location.search).get("disableDomainSharding"))return Array.from(r);const a=JSON.parse(t.getAttribute("data-bootstrap"));return(0,n.fG)(null==a||null==(e=a.common)?void 0:e.feature_flags),(0,n.cr)(o.T.ALLOW_DASHBOARD_DOMAIN_SHARDING)&&a&&a.common&&a.common.conf&&a.common.conf.SUPERSET_WEBSERVER_DOMAINS&&a.common.conf.SUPERSET_WEBSERVER_DOMAINS.forEach((e=>{r.add(e)})),Array.from(r)}(),i=a.length>1},9882:(e,t,r)=>{"use strict";r.d(t,{V:()=>l,Z:()=>u});var n=r(21804),o=r.n(n),a=(r(67294),r(61988)),i=r(51776),s=r(11965);function l(e){let{label:t,tooltip:r,bsStyle:n,onClick:l,icon:u="info-circle",className:c="text-muted",placement:d="right",iconsStyle:E={}}=e;const _=`fa fa-${u} ${c} ${n?`text-${n}`:""}`,m=(0,s.tZ)("i",{role:"button","aria-label":(0,a.t)("Show info tooltip"),tabIndex:0,className:_,style:{cursor:l?"pointer":void 0,...E},onClick:l,onKeyPress:l&&(e=>{"Enter"!==e.key&&" "!==e.key||l()})});return r?(0,s.tZ)(i.u,{id:`${o()(t)}-tooltip`,title:r,placement:d},m):m}const u=l},51776:(e,t,r)=>{"use strict";r.d(t,{u:()=>u,Z:()=>c});var n=r(5872),o=r.n(n),a=r(67294),i=r(51995),s=r(11965),l=r(31097);const u=e=>{let{overlayStyle:t,color:r,...n}=e;const u=(0,i.Fg)(),c=`${u.colors.grayscale.dark2}e6`;return(0,s.tZ)(a.Fragment,null,(0,s.tZ)(s.xB,{styles:s.iv`
          .ant-tooltip-open {
            display: inline-block;
            &::after {
              content: '';
              display: block;
            }
          }
        `}),(0,s.tZ)(l.Z,o()({overlayStyle:{fontSize:u.typography.sizes.s,lineHeight:"1.6",maxWidth:62*u.gridUnit,minWidth:30*u.gridUnit,...t},align:{offset:[0,1]},color:c||r,trigger:"hover",placement:"bottom",mouseLeaveDelay:0},n)))},c=u},19427:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(90537),o=r(1875);class a extends n.Z{constructor(){super({name:"ChartBuildQuery",overwritePolicy:n.r.WARN})}}const i=(0,o.Z)(a)},11064:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(90537),o=r(1875);class a extends n.Z{constructor(){super({name:"ChartMetadata",overwritePolicy:n.r.WARN})}}const i=(0,o.Z)(a)},78186:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c}),r(67294);var n=r(30724),o=r.n(n),a=r(17031),i=r.n(a),s=r(93185),l=r(11965);function u(e){return"html"!==e.type||!e.value||!1===/href="(javascript|vbscript|file):.*"/gim.test(e.value)}const c=function(e){let{source:t}=e;return(0,l.tZ)(o(),{source:t,escapeHtml:(0,s.c)(s.T.ESCAPE_MARKDOWN_HTML),skipHtml:!(0,s.c)(s.T.DISPLAY_MARKDOWN_HTML),allowNode:u,astPlugins:[i()({isValidNode:e=>"script"!==e.type})]})}},67706:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(46078);class o{constructor(e){this.id=void 0,this.type=void 0;const[t,r]=e.split("__");this.id=parseInt(t,10),this.type=n.i9.Table,this.type="query"===r?n.i9.Query:this.type}toString(){return`${this.id}__${this.type}`}toObject(){return{id:this.id,type:this.type}}}},61654:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(12727),o=r(67706);const a=e=>[e];function i(e,t){const{queryFields:r,buildQuery:i=a}="function"==typeof t?{buildQuery:t,queryFields:{}}:t||{},s=i((0,n.Z)(e,r));return s.forEach((e=>{Array.isArray(e.post_processing)&&(e.post_processing=e.post_processing.filter(Boolean))})),{datasource:new o.Z(e.datasource).toObject(),force:e.force||!1,queries:s,form_data:e,result_format:e.result_format||"json",result_type:e.result_type||"full"}}},12727:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(72813),o=r(78580),a=r.n(o),i=r(46306),s=r(78483);function l(e){let t=e;return a()(e).call(e,"--")&&(t=`${e}\n`),`(${t})`}var u=r(61988),c=r(74765),d=r(5364),E=r(10581),_=r(56652),m=r(20620);function p(e,t){const{annotation_layers:r=[],extra_form_data:o,time_range:p,since:h,until:T,row_limit:y,row_offset:S,order_desc:A,limit:g,timeseries_limit_metric:f,granularity:R,url_params:I={},custom_params:b={},series_columns:N,series_limit:v,series_limit_metric:L,...D}=e,{adhoc_filters:O=[],filters:U=[],custom_form_data:w={},...C}=o||{},P=Number(y),x=Number(S),{metrics:Z,columns:q,orderby:$}=function(e,t){const r={metric:"metrics",metric_2:"metrics",secondary_metric:"metrics",x:"metrics",y:"metrics",size:"metrics",all_columns:"columns",series:"groupby",order_by_cols:"orderby",...t},{query_mode:n,include_time:o,...i}=e;let s=[],l=[],p=[];return Object.entries(i).forEach((e=>{let[t,o]=e;if(null==o)return;let a=r[t]||t;n===m.n.aggregate&&"columns"===a||(n!==m.n.raw||"groupby"!==a&&"metrics"!==a)&&("groupby"===a&&(a="columns"),"metrics"===a?l=l.concat(o):"columns"===a?s=s.concat(o):"orderby"===a&&(p=p.concat(o)))})),o&&!a()(s).call(s,d.W3)&&s.unshift(d.W3),{columns:(0,c.Z)(s.filter((e=>""!==e)),E.Z),metrics:n===m.n.raw?void 0:(0,c.Z)(l,_.Z),orderby:p.length>0?p.map((e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){throw new Error((0,u.t)("Found invalid orderby options"))}return e})):void 0}}(D,t),Q=function(e){const t={},r=[],n={},o={filters:r,extras:n,applied_time_extras:t},a={__time_range:"time_range",__time_col:"granularity_sqla",__time_grain:"time_grain_sqla",__granularity:"granularity"};return(e.extra_filters||[]).forEach((e=>{if(e.col in a){const r=e.col;o[a[r]]=e.val,t[r]=e.val}else r.push(e)})),n.time_grain_sqla=o.time_grain_sqla||e.time_grain_sqla,o.granularity=o.granularity_sqla||e.granularity||e.granularity_sqla,delete o.granularity_sqla,delete o.time_grain_sqla,o}(e),{filters:B}=Q,M={filters:[...B,...U],adhoc_filters:[...e.adhoc_filters||[],...O]},Y=function(e){const{adhoc_filters:t,extras:r={},filters:n=[],where:o}=e,a=n,u=[];o&&u.push(o);const c=[];return(t||[]).forEach((e=>{const{clause:t}=e;if((0,i.Ki)(e)){const r=(0,s.Z)(e);"WHERE"===t&&a.push(r)}else{const{sqlExpression:r}=e;"WHERE"===t?u.push(r):c.push(r)}})),r.having=c.map(l).join(" AND "),r.where=u.map(l).join(" AND "),{filters:a,extras:r}}({...e,...Q,...M});let H={time_range:p||void 0,since:h||void 0,until:T||void 0,granularity:R||void 0,...Q,...Y,columns:q,metrics:Z,orderby:$,annotation_layers:r,row_limit:null==y||Number.isNaN(P)?void 0:P,row_offset:null==S||Number.isNaN(x)?void 0:x,series_columns:N,series_limit:v,series_limit_metric:(e=>{if((0,n.GA)(e)||(0,n.s9)(e))return e})(L),timeseries_limit:g?Number(g):0,timeseries_limit_metric:f||void 0,order_desc:void 0===A||A,url_params:I||void 0,custom_params:b};return H=function(e,t){const r={...e},{extras:n={}}=r;return Object.entries(d.gn).forEach((e=>{let[n,o]=e;const a=t[n];void 0!==a&&(r[o]=a)})),d.fn.forEach((e=>{e in t&&(n[e]=t[e])})),Object.keys(n).length>0&&(r.extras=n),r}(H,C),{...H,custom_form_data:w}}},5364:(e,t,r)=>{"use strict";r.d(t,{W3:()=>n,fn:()=>o,Ci:()=>a,gn:()=>i,NU:()=>s,Ay:()=>l});const n="__timestamp",o=["relative_start","relative_end","time_grain_sqla"],a=["adhoc_filters","filters","interactive_groupby","interactive_highlight","interactive_drilldown","custom_form_data"],i={granularity:"granularity",granularity_sqla:"granularity",time_column:"time_column",time_grain:"time_grain",time_range:"time_range"},s=Object.keys(i),l=[...s,...o]},78483:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(46306);function o(e){const{subject:t}=e;if((0,n._l)(e)){const{operator:r}=e;return{col:t,op:r}}if((0,n.kC)(e)){const{operator:r}=e;return{col:t,op:r,val:e.comparator}}const{operator:r}=e;return{col:t,op:r,val:e.comparator}}},10581:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(72813);function o(e){return(0,n.s9)(e)?e:e.label?e.label:e.sqlExpression}},56652:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(62446);function o(e){return(0,n.AG)(e)?e:e.label?e.label:(0,n.nX)(e)?`${e.aggregate}(${e.column.columnName||e.column.column_name})`:e.sqlExpression}},72813:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e}function o(e){return"string"!=typeof e&&void 0!==(null==e?void 0:e.sqlExpression)&&void 0!==(null==e?void 0:e.label)&&(void 0===(null==e?void 0:e.expressionType)||"SQL"===(null==e?void 0:e.expressionType))}function a(e){return n(e)||o(e)}r.d(t,{s9:()=>n,GA:()=>o,Gk:()=>a,ZP:()=>i});const i={}},46078:(e,t,r)=>{"use strict";var n;r.d(t,{i9:()=>n,BH:()=>o,ZP:()=>a}),function(e){e.Table="table",e.Query="query",e.Dataset="dataset",e.SlTable="sl_table",e.SavedQuery="saved_query"}(n||(n={}));const o=[{metric_name:"COUNT(*)",expression:"COUNT(*)"}],a={}},46306:(e,t,r)=>{"use strict";r.d(t,{Ki:()=>o,jz:()=>a,_l:()=>i,kC:()=>s,VK:()=>l});var n=r(31612);function o(e){return"SIMPLE"===e.expressionType}function a(e){return"SQL"===e.expressionType}function i(e){return(0,n.CW)(e.operator)}function s(e){return(0,n.VU)(e.operator)}function l(e){return(0,n.XA)(e.operator)}},62446:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e}function o(e){return"string"!=typeof e&&"SIMPLE"===(null==e?void 0:e.expressionType)}function a(e){return"string"!=typeof e&&"SQL"===(null==e?void 0:e.expressionType)}function i(e){return n(e)||o(e)||a(e)}r.d(t,{AG:()=>n,nX:()=>o,q5:()=>a,I0:()=>i,ZP:()=>s});const s={}},31612:(e,t,r)=>{"use strict";r.d(t,{CW:()=>o,VU:()=>i,XA:()=>l});const n=new Set(["IS NOT NULL","IS NULL"]);function o(e){return n.has(e)}const a=new Set(["==","!=",">","<",">=","<=","ILIKE","LIKE","REGEX"]);function i(e){return a.has(e)}const s=new Set(["IN","NOT IN"]);function l(e){return s.has(e)}},20620:(e,t,r)=>{"use strict";var n;r.d(t,{n:()=>n,Z:()=>o}),function(e){e.aggregate="aggregate",e.raw="raw"}(n||(n={}));const o={}},93185:(e,t,r)=>{"use strict";var n;function o(e){try{return!!window.featureFlags[e]}catch(t){return console.error(`Failed to query feature flag ${e} (see error below)`),console.error(t),!1}}r.d(t,{T:()=>n,c:()=>o}),function(e){e.ALLOW_DASHBOARD_DOMAIN_SHARDING="ALLOW_DASHBOARD_DOMAIN_SHARDING",e.ALERT_REPORTS="ALERT_REPORTS",e.CLIENT_CACHE="CLIENT_CACHE",e.DYNAMIC_PLUGINS="DYNAMIC_PLUGINS",e.ENABLE_ADVANCED_DATA_TYPES="ENABLE_ADVANCED_DATA_TYPES",e.SCHEDULED_QUERIES="SCHEDULED_QUERIES",e.SQL_VALIDATORS_BY_ENGINE="SQL_VALIDATORS_BY_ENGINE",e.ESTIMATE_QUERY_COST="ESTIMATE_QUERY_COST",e.SHARE_QUERIES_VIA_KV_STORE="SHARE_QUERIES_VIA_KV_STORE",e.SQLLAB_BACKEND_PERSISTENCE="SQLLAB_BACKEND_PERSISTENCE",e.THUMBNAILS="THUMBNAILS",e.LISTVIEWS_DEFAULT_CARD_VIEW="LISTVIEWS_DEFAULT_CARD_VIEW",e.DISABLE_LEGACY_DATASOURCE_EDITOR="DISABLE_LEGACY_DATASOURCE_EDITOR",e.DISABLE_DATASET_SOURCE_EDIT="DISABLE_DATASET_SOURCE_EDIT",e.DISPLAY_MARKDOWN_HTML="DISPLAY_MARKDOWN_HTML",e.ESCAPE_MARKDOWN_HTML="ESCAPE_MARKDOWN_HTML",e.DASHBOARD_NATIVE_FILTERS="DASHBOARD_NATIVE_FILTERS",e.DASHBOARD_CROSS_FILTERS="DASHBOARD_CROSS_FILTERS",e.DASHBOARD_NATIVE_FILTERS_SET="DASHBOARD_NATIVE_FILTERS_SET",e.DASHBOARD_FILTERS_EXPERIMENTAL="DASHBOARD_FILTERS_EXPERIMENTAL",e.EMBEDDED_SUPERSET="EMBEDDED_SUPERSET",e.ENABLE_FILTER_BOX_MIGRATION="ENABLE_FILTER_BOX_MIGRATION",e.VERSIONED_EXPORT="VERSIONED_EXPORT",e.GLOBAL_ASYNC_QUERIES="GLOBAL_ASYNC_QUERIES",e.ENABLE_TEMPLATE_PROCESSING="ENABLE_TEMPLATE_PROCESSING",e.ENABLE_EXPLORE_DRAG_AND_DROP="ENABLE_EXPLORE_DRAG_AND_DROP",e.ENABLE_DND_WITH_CLICK_UX="ENABLE_DND_WITH_CLICK_UX",e.FORCE_DATABASE_CONNECTIONS_SSL="FORCE_DATABASE_CONNECTIONS_SSL",e.ENABLE_TEMPLATE_REMOVE_FILTERS="ENABLE_TEMPLATE_REMOVE_FILTERS",e.ENABLE_JAVASCRIPT_CONTROLS="ENABLE_JAVASCRIPT_CONTROLS",e.DASHBOARD_RBAC="DASHBOARD_RBAC",e.ALERTS_ATTACH_REPORTS="ALERTS_ATTACH_REPORTS",e.ALLOW_FULL_CSV_EXPORT="ALLOW_FULL_CSV_EXPORT",e.UX_BETA="UX_BETA",e.GENERIC_CHART_AXES="GENERIC_CHART_AXES",e.USE_ANALAGOUS_COLORS="USE_ANALAGOUS_COLORS",e.DASHBOARD_EDIT_CHART_IN_NEW_TAB="DASHBOARD_EDIT_CHART_IN_NEW_TAB",e.EMBEDDABLE_CHARTS="EMBEDDABLE_CHARTS",e.DRILL_TO_DETAIL="DRILL_TO_DETAIL"}(n||(n={}))},74765:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e,t){if(t){const r=new Set;return e.filter((e=>{const n=t(e);return!r.has(n)&&(r.add(n),!0)}))}return[...new Set(e)]}},47710:(e,t,r)=>{"use strict";r.d(t,{W:()=>C});var n=r(47037),o=r.n(n),a=r(41609),i=r.n(a),s=r(78580),l=r.n(s),u=r(67294),c=r(87183),d=r(4715),E=r(9875),_=r(74069),m=r(35932),p=r(51995),h=r(31069),T=r(61988),y=r(37703),S=r(30381),A=r.n(S),g=r(15926),f=r.n(g),R=r(84548),I=r(72570),b=r(28241),N=r(12515),v=r(40219),L=r(27600),D=r(11965);const O=p.iK.div`
  .sdm-body {
    margin: 0 8px;
  }
  .sdm-input {
    margin-left: 45px;
    width: 401px;
  }
  .sdm-autocomplete {
    width: 401px;
    align-self: center;
  }
  .sdm-radio {
    display: block;
    height: 30px;
    margin: 10px 0px;
    line-height: 30px;
  }
  .sdm-overwrite-msg {
    margin: 7px;
  }
  .sdm-overwrite-container {
    flex: 1 1 auto;
    display: flex;
  }
`,U=async(e,t,r,n,o,a)=>{const i=`api/v1/dataset/${t}?override_columns=${a}`,s=JSON.stringify({sql:r,columns:n,owners:o,database_id:e});return(await h.Z.put({endpoint:i,headers:{"Content-Type":"application/json"},body:s})).json.result},w=(0,T.t)("Untitled Dataset"),C=e=>{let{visible:t,onHide:r,buttonTextOnSave:n,buttonTextOnOverwrite:a,modalDescription:s,datasource:p,openWindow:S=!0,formData:g={}}=e;const C=(0,y.v9)((e=>{var t,r;return(null==(t=e.common)||null==(r=t.conf)?void 0:r.DEFAULT_VIZ_TYPE)||"table"})),P=()=>`${(null==p?void 0:p.name)||w} ${A()().format("MM/DD/YYYY HH:mm:ss")}`,[x,Z]=(0,u.useState)(P()),[q,$]=(0,u.useState)(b.fT.SAVE_NEW),[Q,B]=(0,u.useState)(!1),[M,Y]=(0,u.useState)({}),[H,k]=(0,u.useState)(void 0),K=(0,y.v9)((e=>(0,b.aY)(e))),V=(0,y.I0)(),F=e=>{S?window.open(e,"_blank","noreferrer"):window.location.href=e},G={...b.C9,...g||{}},W=(0,u.useCallback)((async function(e){void 0===e&&(e="");const{userId:t}=K,r=f().encode({filters:[{col:"table_name",opr:"ct",value:e},{col:"owners",opr:"rel_m_m",value:t}],order_column:"changed_on_delta_humanized",order_direction:"desc"});return h.Z.get({endpoint:`/api/v1/dataset?q=${r}`}).then((e=>({data:e.json.result.map((e=>({value:e.table_name,label:e.table_name,datasetid:e.id,owners:e.owners}))),totalCount:e.json.count})))}),[K]),j=q===b.fT.SAVE_NEW&&0===x.length||q===b.fT.OVERWRITE_DATASET&&i()(H);return(0,D.tZ)(_.Z,{show:t,title:(0,T.t)("Save or Overwrite Dataset"),onHide:r,footer:(0,D.tZ)(u.Fragment,null,q===b.fT.SAVE_NEW&&(0,D.tZ)(m.Z,{disabled:j,buttonStyle:"primary",onClick:()=>{var e;const t=null!=(e=null==p?void 0:p.columns)?e:[];let n;if(o()(null==p?void 0:p.templateParams)){const e=JSON.parse(p.templateParams);e._filters&&(delete e._filters,n=JSON.stringify(e))}V((0,R.createDatasource)({schema:p.schema,sql:p.sql,dbId:p.dbId,templateParams:n,datasourceName:x,columns:t})).then((e=>(0,v.nv)(e.table_id,"table",{...G,datasource:`${e.table_id}__table`,..."table"===C&&{all_columns:t.map((e=>e.name))}}))).then((e=>{const t=(0,N.y8)(null,{[L.KD.formDataKey.name]:e});F(t),Z(P()),r()})).catch((()=>{(0,I.Gb)((0,T.t)("An error occurred saving dataset"))}))}},n),q===b.fT.OVERWRITE_DATASET&&(0,D.tZ)(u.Fragment,null,Q&&(0,D.tZ)(m.Z,{onClick:()=>{B(!1),Y({})}},"Back"),(0,D.tZ)(m.Z,{className:"md",buttonStyle:"primary",onClick:async()=>{var e,t,n;if(!Q)return void B(!0);const[,o]=await Promise.all([U(null==p?void 0:p.dbId,null==M?void 0:M.datasetid,null==p?void 0:p.sql,null==p||null==(e=p.columns)?void 0:e.map((e=>({column_name:e.name,type:e.type,is_dttm:e.is_dttm}))),null==M||null==(t=M.owners)?void 0:t.map((e=>e.id)),!0),(0,v.nv)(M.datasetid,"table",{...G,datasource:`${M.datasetid}__table`,..."table"===C&&{all_columns:null==p||null==(n=p.columns)?void 0:n.map((e=>e.name))}})]),a=(0,N.y8)(null,{[L.KD.formDataKey.name]:o});F(a),B(!1),Z(P()),r()},disabled:j},a)))},(0,D.tZ)(O,null,!Q&&(0,D.tZ)("div",{className:"sdm-body"},s&&(0,D.tZ)("div",{className:"sdm-prompt"},s),(0,D.tZ)(c.Y.Group,{onChange:e=>{$(Number(e.target.value))},value:q},(0,D.tZ)(c.Y,{className:"sdm-radio",value:1},(0,T.t)("Save as new"),(0,D.tZ)(E.II,{className:"sdm-input",defaultValue:x,onChange:e=>{Z(e.target.value)},disabled:1!==q})),(0,D.tZ)("div",{className:"sdm-overwrite-container"},(0,D.tZ)(c.Y,{className:"sdm-radio",value:2},(0,T.t)("Overwrite existing")),(0,D.tZ)("div",{className:"sdm-autocomplete"},(0,D.tZ)(d.qb,{allowClear:!0,showSearch:!0,placeholder:(0,T.t)("Select or type dataset name"),ariaLabel:(0,T.t)("Existing dataset"),onChange:(e,t)=>{Y(t),k(e)},options:e=>W(e),value:H,filterOption:(e,t)=>{var r;return l()(r=t.value.toLowerCase()).call(r,e.toLowerCase())},disabled:2!==q,getPopupContainer:()=>document.body}))))),Q&&(0,D.tZ)("div",{className:"sdm-overwrite-msg"},(0,T.t)("Are you sure you want to overwrite this dataset?"))))}},44904:(e,t,r)=>{"use strict";r.d(t,{IY:()=>n,Em:()=>o,eU:()=>a,ev:()=>i,rp:()=>s,Yo:()=>l,TU:()=>u,U$:()=>c,b$:()=>d,rD:()=>E,N2:()=>_,Yn:()=>m,GJ:()=>p,iJ:()=>h,lr:()=>T,OI:()=>y});const n={offline:"danger",failed:"danger",pending:"info",fetching:"info",running:"warning",stopped:"danger",success:"success"},o={success:"success",failed:"failed",running:"running",offline:"offline",pending:"pending"},a=5,i=3,s=51,l=1024,u=2,c=864e5,d=5120,E=.9,_=8e3,m=100,p=90,h=60,T=55,y=50},28241:(e,t,r)=>{"use strict";r.d(t,{aY:()=>n,fT:()=>o,C9:()=>a});const n=e=>{if(e.hasOwnProperty("sqlLab")){const{sqlLab:{user:t}}=e;return t}const{user:t}=e;return t};var o;!function(e){e[e.SAVE_NEW=1]="SAVE_NEW",e[e.OVERWRITE_DATASET=2]="OVERWRITE_DATASET"}(o||(o={}));const a={metrics:[],groupby:[],time_range:"No filter",row_limit:1e3}},33313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(44904);const o=["AND","AS","ASC","AVG","BY","CASE","COUNT","CREATE","CROSS","DATABASE","DEFAULT","DELETE","DESC","DISTINCT","DROP","ELSE","END","FOREIGN","FROM","GRANT","GROUP","HAVING","IF","INNER","INSERT","JOIN","KEY","LEFT","LIMIT","MAX","MIN","NATURAL","NOT","NULL","OFFSET","ON","OR","ORDER","OUTER","PRIMARY","REFERENCES","RIGHT","SELECT","SUM","TABLE","THEN","TYPE","UNION","UPDATE","WHEN","WHERE"].concat(["BIGINT","BINARY","BIT","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","MONEY","NUMBER","NUMERIC","REAL","SET","TEXT","TIMESTAMP","VARCHAR"]).map((e=>({meta:"sql",name:e,score:n.Yn,value:e})))},29487:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(5872),o=r.n(n),a=r(11965),i=(r(67294),r(4863)),s=r(51995),l=r(70163);function u(e){const{type:t="info",description:r,showIcon:n=!0,closable:u=!0,roomBelow:c=!1,children:d}=e,E=(0,s.Fg)(),{colors:_,typography:m,gridUnit:p}=E,{alert:h,error:T,info:y,success:S}=_;let A=y,g=l.Z.InfoSolid;return"error"===t?(A=T,g=l.Z.ErrorSolid):"warning"===t?(A=h,g=l.Z.AlertSolid):"success"===t&&(A=S,g=l.Z.CircleCheckSolid),(0,a.tZ)(i.default,o()({role:"alert",showIcon:n,icon:(0,a.tZ)(g,{"aria-label":`${t} icon`}),closeText:u&&(0,a.tZ)(l.Z.XSmall,{"aria-label":"close icon"}),css:(0,a.iv)({marginBottom:c?4*p:0,padding:`${2*p}px ${3*p}px`,alignItems:"flex-start",border:0,backgroundColor:A.light2,"& .ant-alert-icon":{marginRight:2*p},"& .ant-alert-message":{color:A.dark2,fontSize:m.sizes.m,fontWeight:r?m.weights.bold:m.weights.normal},"& .ant-alert-description":{color:A.dark2,fontSize:m.sizes.m}},"","")},e),d)}},94670:(e,t,r)=>{"use strict";r.d(t,{iO:()=>d,up:()=>E,cE:()=>_,YH:()=>m,ry:()=>p,Ad:()=>h,Z5:()=>T});var n=r(5872),o=r.n(n),a=r(67294),i=r(53239),s=r(67913),l=r(11965);const u={"mode/sql":()=>r.e(8883).then(r.t.bind(r,48883,23)),"mode/markdown":()=>Promise.all([r.e(9794),r.e(5802),r.e(4832),r.e(6061)]).then(r.t.bind(r,66061,23)),"mode/css":()=>Promise.all([r.e(5802),r.e(4972)]).then(r.t.bind(r,94972,23)),"mode/json":()=>r.e(8750).then(r.t.bind(r,58750,23)),"mode/yaml":()=>r.e(741).then(r.t.bind(r,60741,23)),"mode/html":()=>Promise.all([r.e(9794),r.e(5802),r.e(4832),r.e(1258)]).then(r.t.bind(r,71258,23)),"mode/javascript":()=>Promise.all([r.e(9794),r.e(4579)]).then(r.t.bind(r,54579,23)),"theme/textmate":()=>r.e(2089).then(r.t.bind(r,2089,23)),"theme/github":()=>r.e(440).then(r.t.bind(r,50440,23)),"ext/language_tools":()=>r.e(5335).then(r.t.bind(r,75335,23)),"ext/searchbox":()=>r.e(8656).then(r.t.bind(r,68656,23))};function c(e,t){let{defaultMode:n,defaultTheme:c,defaultTabSize:d=2,placeholder:E}=void 0===t?{}:t;return(0,s.Z)((async()=>{var t,s;const{default:E}=await Promise.all([r.e(1216),r.e(7167)]).then(r.bind(r,74981));await Promise.all(e.map((e=>u[e]())));const _=n||(null==(t=e.find((e=>e.startsWith("mode/"))))?void 0:t.replace("mode/","")),m=c||(null==(s=e.find((e=>e.startsWith("theme/"))))?void 0:s.replace("theme/",""));return(0,a.forwardRef)((function(e,t){let{keywords:r,mode:n=_,theme:a=m,tabSize:s=d,defaultValue:u="",...c}=e;if(r){const e={getCompletions:(e,t,o,a,i)=>{Number.isNaN(parseInt(a,10))&&t.getMode().$id===`ace/mode/${n}`&&i(null,r)}};(0,i.acequire)("ace/ext/language_tools").setCompleters([e])}return(0,l.tZ)(E,o()({ref:t,mode:n,theme:a,tabSize:s,defaultValue:u},c))}))}),E)}const d=c(["mode/sql","theme/github","ext/language_tools","ext/searchbox"]),E=c(["mode/sql","theme/github","ext/language_tools","ext/searchbox"],{placeholder:()=>(0,l.tZ)("div",{style:{height:"100%"}},(0,l.tZ)("div",{style:{width:41,height:"100%",background:"#e8e8e8"}}),(0,l.tZ)("div",{className:"ace_content"}))}),_=c(["mode/markdown","theme/textmate"]),m=c(["mode/markdown","mode/sql","mode/json","mode/html","mode/javascript","theme/textmate"]),p=c(["mode/css","theme/github"]),h=c(["mode/json","theme/github"]),T=c(["mode/json","mode/yaml","theme/github"])},67913:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(5872),o=r.n(n),a=r(67294),i=r(38703),s=r(11965);function l(e){let{width:t,height:r,showLoadingForImport:n=!1,placeholderStyle:o}=e;return r&&(0,s.tZ)("div",{key:"async-asm-placeholder",style:{width:t,height:r,...o}},n&&(0,s.tZ)(i.Z,{position:"floating"}))||null}function u(e,t){let r,n;function i(){return r||(r=e instanceof Promise?e:e()),n||r.then((e=>{n=e.default||e})),r}void 0===t&&(t=l);const u=(0,a.forwardRef)((function(e,r){const[l,u]=(0,a.useState)(void 0!==n);(0,a.useEffect)((()=>{let e=!0;return l||i().then((()=>{e&&u(!0)})),()=>{e=!1}}));const c=n||t;return c?(0,s.tZ)(c,o()({ref:c===n?r:null},e)):null}));return u.preload=i,u}},43700:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r(67294);var n=r(51995),o=r(46445),a=r(11965);const i=Object.assign((0,n.iK)((e=>{let{light:t,bigger:r,bold:n,animateArrows:i,...s}=e;return(0,a.tZ)(o.Z,s)}))`
    .ant-collapse-item {
      .ant-collapse-header {
        font-weight: ${e=>{let{bold:t,theme:r}=e;return t?r.typography.weights.bold:r.typography.weights.normal}};
        font-size: ${e=>{let{bigger:t,theme:r}=e;return t?4*r.gridUnit+"px":"inherit"}};

        .ant-collapse-arrow svg {
          transition: ${e=>{let{animateArrows:t}=e;return t?"transform 0.24s":"none"}};
        }

        ${e=>{let{expandIconPosition:t}=e;return t&&"right"===t&&"\n            .anticon.anticon-right.ant-collapse-arrow > svg {\n              transform: rotate(90deg) !important;\n            }\n          "}}

        ${e=>{let{light:t,theme:r}=e;return t&&`\n            color: ${r.colors.grayscale.light4};\n            .ant-collapse-arrow svg {\n              color: ${r.colors.grayscale.light4};\n            }\n          `}}

        ${e=>{let{ghost:t,bordered:r,theme:n}=e;return t&&r&&`\n            border-bottom: 1px solid ${n.colors.grayscale.light3};\n          `}}
      }
      .ant-collapse-content {
        .ant-collapse-content-box {
          .loading.inline {
            margin: ${e=>{let{theme:t}=e;return 12*t.gridUnit}}px auto;
            display: block;
          }
        }
      }
    }
    .ant-collapse-item-active {
      .ant-collapse-header {
        ${e=>{let{expandIconPosition:t}=e;return t&&"right"===t&&"\n            .anticon.anticon-right.ant-collapse-arrow > svg {\n              transform: rotate(-90deg) !important;\n            }\n          "}}
      }
    }
  `,{Panel:o.Z.Panel})},94301:(e,t,r)=>{"use strict";r.d(t,{XJ:()=>A,x3:()=>g,Tc:()=>f}),r(67294);var n,o=r(51995),a=r(11965),i=r(4715),s=r(35932);!function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Big=2]="Big"}(n||(n={}));const l=o.iK.div`
  ${e=>{let{theme:t}=e;return a.iv`
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    align-items: center;
    justify-content: center;
    padding: ${4*t.gridUnit}px;
    text-align: center;

    & .ant-empty-image svg {
      width: auto;
    }

    & a,
    & span[role='button'] {
      color: inherit;
      text-decoration: underline;
      &:hover {
        color: ${t.colors.grayscale.base};
      }
    }
  `}}
`,u=o.iK.div``,c=o.iK.p`
  ${e=>{let{theme:t}=e;return a.iv`
    font-size: ${t.typography.sizes.m}px;
    color: ${t.colors.grayscale.light1};
    margin: ${2*t.gridUnit}px 0 0 0;
    font-weight: ${t.typography.weights.bold};
  `}}
`,d=(0,o.iK)(c)`
  ${e=>{let{theme:t}=e;return a.iv`
    font-size: ${t.typography.sizes.l}px;
    color: ${t.colors.grayscale.light1};
    margin-top: ${4*t.gridUnit}px;
  `}}
`,E=o.iK.p`
  ${e=>{let{theme:t}=e;return a.iv`
    font-size: ${t.typography.sizes.s}px;
    color: ${t.colors.grayscale.light1};
    margin: ${2*t.gridUnit}px 0 0 0;
  `}}
`,_=(0,o.iK)(E)`
  ${e=>{let{theme:t}=e;return a.iv`
    font-size: ${t.typography.sizes.m}px;
  `}}
`,m=(0,o.iK)(E)`
  ${e=>{let{theme:t}=e;return a.iv`
    margin-top: ${t.gridUnit}px;
    line-height: 1.2;
  `}}
`,p=(0,o.iK)(s.Z)`
  ${e=>{let{theme:t}=e;return a.iv`
    margin-top: ${4*t.gridUnit}px;
    z-index: 1;
  `}}
`,h=e=>"string"==typeof e?`/static/assets/images/${e}`:e,T=e=>{switch(e){case n.Small:return{height:"50px"};case n.Medium:return{height:"80px"};case n.Big:return{height:"150px"};default:return{height:"50px"}}},y=e=>{let{image:t,size:r}=e;return(0,a.tZ)(i.HY,{description:!1,image:h(t),imageStyle:T(r)})},S=e=>{e.preventDefault(),e.stopPropagation()},A=e=>{let{title:t,image:r,description:o,buttonAction:i,buttonText:s,className:c}=e;return(0,a.tZ)(l,{className:c},(0,a.tZ)(y,{image:r,size:n.Big}),(0,a.tZ)(u,{css:e=>a.iv`
          max-width: ${150*e.gridUnit}px;
        `},(0,a.tZ)(d,null,t),o&&(0,a.tZ)(_,null,o),i&&s&&(0,a.tZ)(p,{buttonStyle:"primary",onClick:i,onMouseDown:S},s)))},g=e=>{let{title:t,image:r,description:o,buttonAction:i,buttonText:s}=e;return(0,a.tZ)(l,null,(0,a.tZ)(y,{image:r,size:n.Medium}),(0,a.tZ)(u,{css:e=>a.iv`
          max-width: ${100*e.gridUnit}px;
        `},(0,a.tZ)(c,null,t),o&&(0,a.tZ)(E,null,o),s&&i&&(0,a.tZ)(p,{buttonStyle:"primary",onClick:i,onMouseDown:S},s)))},f=e=>{let{title:t,image:r,description:o}=e;return(0,a.tZ)(l,null,(0,a.tZ)(y,{image:r,size:n.Small}),(0,a.tZ)(u,{css:e=>a.iv`
          max-width: ${75*e.gridUnit}px;
        `},(0,a.tZ)(c,null,t),o&&(0,a.tZ)(m,null,o)))}},72875:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294),o=r(61988),a=r(92869),i=r(91178),s=r(11965);const l=(0,o.t)("Unexpected error");function u(e){let{title:t=l,error:r,subtitle:o,copyText:u,link:c,stackTrace:d,source:E}=e;if(r){const e=(0,a.Z)().get(r.error_type);if(e)return(0,s.tZ)(e,{error:r,source:E,subtitle:o})}return(0,s.tZ)(i.Z,{level:"warning",title:t,subtitle:o,copyText:u,source:E,body:c||d?(0,s.tZ)(n.Fragment,null,c&&(0,s.tZ)("a",{href:c,target:"_blank",rel:"noopener noreferrer"},"(Request Access)"),(0,s.tZ)("br",null),d&&(0,s.tZ)("pre",null,d)):void 0})}},4591:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(97538);const o=(0,r(51995).iK)(n.Z.Item)`
  ${e=>{let{theme:t}=e;return`\n    .ant-form-item-label {\n      padding-bottom: ${t.gridUnit}px;\n      & > label {\n        text-transform: uppercase;\n        font-size: ${t.typography.sizes.s}px;\n        color: ${t.colors.grayscale.base};\n\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            color: ${t.colors.error.base};\n            font-size: ${t.typography.sizes.s}px;\n            content: '*';\n          }\n        }\n      }\n    }\n  `}}
`},2857:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s}),r(67294);var n=r(51995),o=r(11965);const a=n.iK.label`
  text-transform: uppercase;
  font-size: ${e=>{let{theme:t}=e;return t.typography.sizes.s}}px;
  color: ${e=>{let{theme:t}=e;return t.colors.grayscale.base}};
  margin-bottom: ${e=>{let{theme:t}=e;return t.gridUnit}}px;
`,i=n.iK.label`
  text-transform: uppercase;
  font-size: ${e=>{let{theme:t}=e;return t.typography.sizes.s}}px;
  color: ${e=>{let{theme:t}=e;return t.colors.grayscale.base}};
  margin-bottom: ${e=>{let{theme:t}=e;return t.gridUnit}}px;
  &::after {
    display: inline-block;
    margin-left: ${e=>{let{theme:t}=e;return t.gridUnit}}px;
    color: ${e=>{let{theme:t}=e;return t.colors.error.base}};
    font-size: ${e=>{let{theme:t}=e;return t.typography.sizes.m}}px;
    content: '*';
  }
`;function s(e){let{children:t,htmlFor:r,required:n=!1,className:s}=e;const l=n?i:a;return(0,o.tZ)(l,{htmlFor:r,className:s},t)}},87858:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});var n,o=r(5872),a=r.n(o),i=r(67294),s=r(4107),l=r(31097),u=r(88633),c=r(95357),d=r(51995),E=r(11965),_=r(8272);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}const p=function(e){return i.createElement("svg",m({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1zm0 8a1 1 0 100 2 1 1 0 000-2zm9.71-7.44l-5.27-5.27a1.05 1.05 0 00-.71-.29H8.27a1.05 1.05 0 00-.71.29L2.29 7.56a1.05 1.05 0 00-.29.71v7.46c.004.265.107.518.29.71l5.27 5.27c.192.183.445.286.71.29h7.46a1.05 1.05 0 00.71-.29l5.27-5.27a1.05 1.05 0 00.29-.71V8.27a1.05 1.05 0 00-.29-.71zM20 15.31L15.31 20H8.69L4 15.31V8.69L8.69 4h6.62L20 8.69v6.62z",fill:"currentColor"})))};var h=r(4591),T=r(2857);const y=(0,d.iK)(s.Z)`
  margin: ${e=>{let{theme:t}=e;return`${t.gridUnit}px 0 ${2*t.gridUnit}px`}};
`,S=(0,d.iK)(s.Z.Password)`
  margin: ${e=>{let{theme:t}=e;return`${t.gridUnit}px 0 ${2*t.gridUnit}px`}};
`,A=(0,d.iK)("div")`
  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  margin-bottom: ${e=>{let{theme:t}=e;return 3*t.gridUnit}}px;
  .ant-form-item {
    margin-bottom: 0;
  }
`,g=d.iK.div`
  display: flex;
  align-items: center;
`,f=(0,d.iK)(T.Z)`
  margin-bottom: 0;
`,R=e=>{let{label:t,validationMethods:r,errorMessage:n,helpText:o,required:i=!1,hasTooltip:s=!1,tooltipText:d,id:m,className:T,...R}=e;return(0,E.tZ)(A,{className:T},(0,E.tZ)(g,null,(0,E.tZ)(f,{htmlFor:m,required:i},t),s&&(0,E.tZ)(_.Z,{tooltip:`${d}`,viewBox:"0 -1 24 24"})),(0,E.tZ)(h.Z,{css:e=>((e,t)=>E.iv`
  .ant-form-item-children-icon {
    display: none;
  }
  ${t&&`.ant-form-item-control-input-content {\n      position: relative;\n      &:after {\n        content: ' ';\n        display: inline-block;\n        background: ${e.colors.error.base};\n        mask: url(${p});\n        mask-size: cover;\n        width: ${4*e.gridUnit}px;\n        height: ${4*e.gridUnit}px;\n        position: absolute;\n        right: ${1.25*e.gridUnit}px;\n        top: ${2.75*e.gridUnit}px;\n      }\n    }`}
`)(e,!!n),validateTrigger:Object.keys(r),validateStatus:n?"error":"success",help:n||o,hasFeedback:!!n},"password"===R.name?(0,E.tZ)(S,a()({},R,r,{iconRender:e=>e?(0,E.tZ)(l.Z,{title:"Hide password."},(0,E.tZ)(u.Z,null)):(0,E.tZ)(l.Z,{title:"Show password."},(0,E.tZ)(c.Z,null)),role:"textbox"})):(0,E.tZ)(y,a()({},R,r))))}},49238:(e,t,r)=>{"use strict";r.d(t,{l0:()=>s,xJ:()=>l.Z,lX:()=>u.Z}),r(67294);var n=r(97538),o=r(51995),a=r(11965);const i=(0,o.iK)(n.Z)`
  &.ant-form label {
    font-size: ${e=>{let{theme:t}=e;return t.typography.sizes.s}}px;
  }
  .ant-form-item {
    margin-bottom: ${e=>{let{theme:t}=e;return 4*t.gridUnit}}px;
  }
`;function s(e){return(0,a.tZ)(i,e)}var l=r(4591),u=r(2857);r(87858)},8272:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d}),r(67294);var n=r(51995),o=r(58593),a=r(70163),i=r(11965);const s=(0,n.iK)(o.u)`
  cursor: pointer;
  path:first-of-type {
    fill: ${e=>{let{theme:t}=e;return t.colors.grayscale.base}};
  }
`,l=n.iK.span`
  display: -webkit-box;
  -webkit-line-clamp: 20;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
`,u={fontSize:"12px",lineHeight:"16px"},c="rgba(0,0,0,0.9)";function d(e){let{tooltip:t,placement:r="right",trigger:n="hover",overlayStyle:o=u,bgColor:d=c,viewBox:E="0 -2 24 24"}=e;return(0,i.tZ)(s,{title:(0,i.tZ)(l,null,t),placement:r,trigger:n,overlayStyle:o,color:d},(0,i.tZ)(a.Z.InfoSolidSmall,{className:"info-solid-small",viewBox:E}))}},9875:(e,t,r)=>{"use strict";r.d(t,{II:()=>i,Rn:()=>s,Kx:()=>l});var n=r(51995),o=r(4107),a=r(21888);const i=(0,n.iK)(o.Z)`
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.secondary.light3}};
  border-radius: ${e=>{let{theme:t}=e;return t.borderRadius}}px;
`,s=(0,n.iK)(a.Z)`
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.secondary.light3}};
  border-radius: ${e=>{let{theme:t}=e;return t.borderRadius}}px;
`,l=(0,n.iK)(o.Z.TextArea)`
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.secondary.light3}};
  border-radius: ${e=>{let{theme:t}=e;return t.borderRadius}}px;
`},83862:(e,t,r)=>{"use strict";r.d(t,{v:()=>l,$:()=>u});var n=r(51995),o=r(43865);const a=(0,n.iK)(o.Z.Item)`
  > a {
    text-decoration: none;
  }

  &.ant-menu-item {
    height: ${e=>{let{theme:t}=e;return 8*t.gridUnit}}px;
    line-height: ${e=>{let{theme:t}=e;return 8*t.gridUnit}}px;
    a {
      border-bottom: none;
      transition: background-color ${e=>{let{theme:t}=e;return t.transitionTiming}}s;
      &:after {
        content: '';
        position: absolute;
        bottom: -3px;
        left: 50%;
        width: 0;
        height: 3px;
        opacity: 0;
        transform: translateX(-50%);
        transition: all ${e=>{let{theme:t}=e;return t.transitionTiming}}s;
        background-color: ${e=>{let{theme:t}=e;return t.colors.primary.base}};
      }
      &:focus {
        border-bottom: none;
        background-color: transparent;
        @media (max-width: 767px) {
          background-color: ${e=>{let{theme:t}=e;return t.colors.primary.light5}};
        }
      }
    }
  }

  &.ant-menu-item,
  &.ant-dropdown-menu-item {
    span[role='button'] {
      display: inline-block;
      width: 100%;
    }
    transition-duration: 0s;
  }
`,i=(0,n.iK)(o.Z)`
  line-height: 51px;
  border: none;

  & > .ant-menu-item,
  & > .ant-menu-submenu {
    vertical-align: inherit;
    &:hover {
      color: ${e=>{let{theme:t}=e;return t.colors.grayscale.dark1}};
    }
  }

  &:not(.ant-menu-dark) > .ant-menu-submenu,
  &:not(.ant-menu-dark) > .ant-menu-item {
    &:hover {
      border-bottom: none;
    }
  }

  &:not(.ant-menu-dark) > .ant-menu-submenu,
  &:not(.ant-menu-dark) > .ant-menu-item {
    margin: 0px;
  }

  & > .ant-menu-item > a {
    padding: ${e=>{let{theme:t}=e;return 4*t.gridUnit}}px;
  }
`,s=(0,n.iK)(o.Z.SubMenu)`
  color: ${e=>{let{theme:t}=e;return t.colors.grayscale.dark1}};
  border-bottom: none;
  .ant-menu-submenu-open,
  .ant-menu-submenu-active {
    background-color: ${e=>{let{theme:t}=e;return t.colors.primary.light5}};
    .ant-menu-submenu-title {
      color: ${e=>{let{theme:t}=e;return t.colors.grayscale.dark1}};
      background-color: ${e=>{let{theme:t}=e;return t.colors.primary.light5}};
      border-bottom: none;
      margin: 0;
      &:after {
        opacity: 1;
        width: calc(100% - 1);
      }
    }
  }
  .ant-menu-submenu-title {
    position: relative;
    top: ${e=>{let{theme:t}=e;return-t.gridUnit-3}}px;
    &:after {
      content: '';
      position: absolute;
      bottom: -3px;
      left: 50%;
      width: 0;
      height: 3px;
      opacity: 0;
      transform: translateX(-50%);
      transition: all ${e=>{let{theme:t}=e;return t.transitionTiming}}s;
      background-color: ${e=>{let{theme:t}=e;return t.colors.primary.base}};
    }
  }
  .ant-menu-submenu-arrow {
    top: 67%;
  }
  & > .ant-menu-submenu-title {
    padding: 0 ${e=>{let{theme:t}=e;return 6*t.gridUnit}}px 0
      ${e=>{let{theme:t}=e;return 3*t.gridUnit}}px !important;
    span[role='img'] {
      position: absolute;
      right: ${e=>{let{theme:t}=e;return-t.gridUnit-2}}px;
      top: ${e=>{let{theme:t}=e;return 5.25*t.gridUnit}}px;
      svg {
        font-size: ${e=>{let{theme:t}=e;return 6*t.gridUnit}}px;
        color: ${e=>{let{theme:t}=e;return t.colors.grayscale.base}};
      }
    }
    & > span {
      position: relative;
      top: 7px;
    }
    &:hover {
      color: ${e=>{let{theme:t}=e;return t.colors.primary.base}};
    }
  }
`,l=Object.assign(o.Z,{Item:a}),u=Object.assign(i,{Item:a,SubMenu:s,Divider:o.Z.Divider,ItemGroup:o.Z.ItemGroup})},1304:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(67294),o=r(74069),a=r(35932),i=r(11965);const s=n.forwardRef(((e,t)=>{const[r,s]=(0,n.useState)(!1),{beforeOpen:l=(()=>{}),onExit:u=(()=>{}),isButton:c=!1,resizable:d=!1,draggable:E=!1,className:_="",tooltip:m,modalFooter:p,triggerNode:h,destroyOnClose:T=!0,modalBody:y,draggableConfig:S={},resizableConfig:A={},modalTitle:g,responsive:f,width:R,maxWidth:I}=e,b=()=>{s(!1),null==u||u()},N=e=>{e.preventDefault(),null==l||l(),s(!0)};return t&&(t.current={close:b,open:N}),(0,i.tZ)(n.Fragment,null,c&&(0,i.tZ)(a.Z,{className:"modal-trigger",tooltip:m,onClick:N},h),!c&&(0,i.tZ)("span",{onClick:N,role:"button"},h),(0,i.tZ)(o.Z,{className:_,show:r,onHide:b,title:g,footer:p,hideFooter:!p,width:R,maxWidth:I,responsive:f,resizable:d,resizableConfig:A,draggable:E,draggableConfig:S,destroyOnClose:T},y))}))},87183:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(51995),o=r(47933);const a=(0,n.iK)(o.ZP)`
  .ant-radio-inner {
    top: -1px;
    left: 2px;
    width: ${e=>{let{theme:t}=e;return 4*t.gridUnit}}px;
    height: ${e=>{let{theme:t}=e;return 4*t.gridUnit}}px;
    border-width: 2px;
    border-color: ${e=>{let{theme:t}=e;return t.colors.grayscale.light2}};
  }

  .ant-radio.ant-radio-checked {
    .ant-radio-inner {
      border-width: ${e=>{let{theme:t}=e;return t.gridUnit+1}}px;
      border-color: ${e=>{let{theme:t}=e;return t.colors.primary.base}};
    }

    .ant-radio-inner::after {
      background-color: ${e=>{let{theme:t}=e;return t.colors.grayscale.light5}};
      top: 0;
      left: 0;
      width: ${e=>{let{theme:t}=e;return t.gridUnit+2}}px;
      height: ${e=>{let{theme:t}=e;return t.gridUnit+2}}px;
    }
  }

  .ant-radio:hover,
  .ant-radio:focus {
    .ant-radio-inner {
      border-color: ${e=>{let{theme:t}=e;return t.colors.primary.dark1}};
    }
  }
`,i=(0,n.iK)(o.ZP.Group)`
  font-size: inherit;
`,s=Object.assign(a,{Group:i,Button:o.ZP.Button})},86057:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(11965),o=(r(67294),r(51995)),a=r(78186),i=r(70163),s=r(58593);const l=function(e){let{warningMarkdown:t,size:r}=e;const l=(0,o.Fg)();return(0,n.tZ)(s.u,{id:"warning-tooltip",title:(0,n.tZ)(a.Z,{source:t})},(0,n.tZ)(i.Z.AlertSolid,{iconColor:l.colors.alert.base,iconSize:r,css:(0,n.iv)({marginRight:2*l.gridUnit},"","")}))}},80621:(e,t,r)=>{"use strict";r.d(t,{PV:()=>n,M2:()=>o,_4:()=>a,Zn:()=>i,D0:()=>s,Jd:()=>l,Nb:()=>u,ES:()=>c,Z1:()=>d,C3:()=>E,vD:()=>_,Xk:()=>m,NN:()=>p,gR:()=>h,Mu:()=>T,cd:()=>y,es:()=>S,cz:()=>A,cx:()=>g,AA:()=>f,fw:()=>R,u_:()=>I,OE:()=>b,pQ:()=>N,b5:()=>v,HE:()=>L,Q9:()=>D,TN:()=>O,kS:()=>U,Bu:()=>w,Ep:()=>C,dU:()=>P,_B:()=>x});const n="GRID_ID",o="HEADER_ID",a="ROOT_ID",i="DASHBOARD_VERSION_KEY",s="NEW_COMPONENTS_SOURCE_ID",l="NEW_CHART_ID",u="NEW_COLUMN_ID",c="NEW_DIVIDER_ID",d="NEW_HEADER_ID",E="NEW_MARKDOWN_ID",_="NEW_ROW_ID",m="NEW_TAB_ID",p="NEW_TABS_ID",h="NEW_DYNAMIC_COMPONENT",T=0,y=8,S=2*y,A=12,g=1,f=5,R=4,I="SMALL_HEADER",b="MEDIUM_HEADER",N="LARGE_HEADER",v="BACKGROUND_WHITE",L="BACKGROUND_TRANSPARENT",D=50,O="overwrite",U="newDashboard",w=65535,C=["LABEL"],P="ALL_FILTERS_ROOT";var x;!function(e){e[e.NONE=0]="NONE",e[e.HIDE_NAV=1]="HIDE_NAV",e[e.HIDE_NAV_AND_TITLE=2]="HIDE_NAV_AND_TITLE",e[e.REPORT=3]="REPORT"}(x||(x={}))},69856:(e,t,r)=>{"use strict";r.d(t,{YY:()=>o,Ps:()=>a,d:()=>i,LT:()=>s,GS:()=>l,Ak:()=>u,qK:()=>c,qB:()=>d,yi:()=>E,Q_:()=>_,m_:()=>m,ft:()=>p,cM:()=>h,i2:()=>T,X5:()=>y,vM:()=>S,Qi:()=>A,Yd:()=>g,H7:()=>f,kc:()=>R,vK:()=>I,xA:()=>b});var n=r(61988);const o={AVG:"AVG",COUNT:"COUNT",COUNT_DISTINCT:"COUNT_DISTINCT",MAX:"MAX",MIN:"MIN",SUM:"SUM"},a=Object.values(o);var i;!function(e){e.EQUALS="EQUALS",e.NOT_EQUALS="NOT_EQUALS",e.LESS_THAN="LESS_THAN",e.LESS_THAN_OR_EQUAL="LESS_THAN_OR_EQUAL",e.GREATER_THAN="GREATER_THAN",e.GREATER_THAN_OR_EQUAL="GREATER_THAN_OR_EQUAL",e.IN="IN",e.NOT_IN="NOT_IN",e.LIKE="LIKE",e.ILIKE="ILIKE",e.REGEX="REGEX",e.IS_NOT_NULL="IS_NOT_NULL",e.IS_NULL="IS_NULL",e.LATEST_PARTITION="LATEST_PARTITION",e.IS_TRUE="IS_TRUE",e.IS_FALSE="IS_FALSE"}(i||(i={}));const s={[i.EQUALS]:{display:"Equal to (=)",operation:"=="},[i.NOT_EQUALS]:{display:"Not equal to (≠)",operation:"!="},[i.LESS_THAN]:{display:"Less than (<)",operation:"<"},[i.LESS_THAN_OR_EQUAL]:{display:"Less or equal (<=)",operation:"<="},[i.GREATER_THAN]:{display:"Greater than (>)",operation:">"},[i.GREATER_THAN_OR_EQUAL]:{display:"Greater or equal (>=)",operation:">="},[i.IN]:{display:"In",operation:"IN"},[i.NOT_IN]:{display:"Not in",operation:"NOT IN"},[i.LIKE]:{display:"Like",operation:"LIKE"},[i.ILIKE]:{display:"Like (case insensitive)",operation:"ILIKE"},[i.REGEX]:{display:"Regex",operation:"REGEX"},[i.IS_NOT_NULL]:{display:"Is not null",operation:"IS NOT NULL"},[i.IS_NULL]:{display:"Is null",operation:"IS NULL"},[i.LATEST_PARTITION]:{display:"use latest_partition template",operation:"LATEST PARTITION"},[i.IS_TRUE]:{display:"Is true",operation:"=="},[i.IS_FALSE]:{display:"Is false",operation:"=="}},l=Object.values(i),u=(i.LIKE,i.ILIKE,[i.EQUALS,i.NOT_EQUALS,i.LESS_THAN,i.LESS_THAN_OR_EQUAL,i.GREATER_THAN,i.GREATER_THAN_OR_EQUAL]),c=new Set([i.IN,i.NOT_IN]),d=new Set([i.LATEST_PARTITION]),E=[i.IS_NOT_NULL,i.IS_NULL,i.LATEST_PARTITION,i.IS_TRUE,i.IS_FALSE],_=/^(LONG|DOUBLE|FLOAT)?(SUM|AVG|MAX|MIN|COUNT)\([A-Z0-9_."]*\)$/i,m={time_range:(0,n.t)("Time range"),granularity_sqla:(0,n.t)("Time column"),time_grain_sqla:(0,n.t)("Time grain"),granularity:(0,n.t)("Time granularity")},p={CLEARABLE:"clearable",DEFAULT_VALUE:"defaultValue",MULTIPLE:"multiple",SEARCH_ALL_OPTIONS:"searchAllOptions",SORT_ASCENDING:"asc",SORT_METRIC:"metric"},h=1e3,T={time_range:"__time_range",granularity_sqla:"__time_col",time_grain_sqla:"__time_grain",granularity:"__granularity"},y="No filter",S="No filter";var A;!function(e){e.CONVERTED="CONVERTED",e.NOOP="NOOP",e.REVIEWING="REVIEWING",e.SNOOZED="SNOOZED",e.UNDECIDED="UNDECIDED"}(A||(A={}));const g=864e5,f=240,R=320,I=296,b=0},40219:(e,t,r)=>{"use strict";r.d(t,{BR:()=>s,nv:()=>c,LW:()=>d});var n=r(57557),o=r.n(n),a=r(31069);const i=["url_params"],s=e=>o()(e,i),l=(e,t)=>{let r="api/v1/explore/form_data";return e&&(r=r.concat(`/${e}`)),t&&(r=r.concat(`?tab_id=${t}`)),r},u=(e,t,r,n)=>{const o={datasource_id:e,datasource_type:t,form_data:JSON.stringify(s(r))};return n&&(o.chart_id=n),o},c=(e,t,r,n,o)=>a.Z.post({endpoint:l(void 0,o),jsonPayload:u(e,t,r,n)}).then((e=>e.json.key)),d=(e,t,r,n,o,i)=>a.Z.put({endpoint:l(r,i),jsonPayload:u(e,t,n,o)}).then((e=>e.json.message))},61337:(e,t,r)=>{"use strict";var n;function o(e,t){try{const r=localStorage.getItem(e);return null===r?t:JSON.parse(r)}catch{return t}}function a(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}}function i(e,t){return o(e,t)}function s(e,t){a(e,t)}r.d(t,{dR:()=>n,OH:()=>o,I_:()=>a,rV:()=>i,LS:()=>s}),function(e){e.filter_box_transition_snoozed_at="filter_box_transition_snoozed_at",e.db="db",e.chart_split_sizes="chart_split_sizes",e.controls_width="controls_width",e.datasource_width="datasource_width",e.is_datapanel_open="is_datapanel_open",e.homepage_chart_filter="homepage_chart_filter",e.homepage_dashboard_filter="homepage_dashboard_filter",e.homepage_collapse_state="homepage_collapse_state",e.homepage_activity_filter="homepage_activity_filter",e.datasetname_set_successful="datasetname_set_successful",e.sqllab__is_autocomplete_enabled="sqllab__is_autocomplete_enabled",e.explore__data_table_original_formatted_time_columns="explore__data_table_original_formatted_time_columns",e.dashboard__custom_filter_bar_widths="dashboard__custom_filter_bar_widths",e.dashboard__explore_context="dashboard__explore_context"}(n||(n={}))},9679:(e,t,r)=>{"use strict";function n(e){const t=new Set;return JSON.stringify(e,((e,r)=>{if("object"==typeof r&&null!==r){if(t.has(r))try{return JSON.parse(JSON.stringify(r))}catch(e){return}t.add(r)}return r}))}r.d(t,{o:()=>n})},1113:()=>{},84116:()=>{},27829:()=>{}}]);
//# sourceMappingURL=7311.f87591a93f4a4842c2e7.entry.js.map