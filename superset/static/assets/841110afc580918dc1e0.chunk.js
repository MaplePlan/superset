"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[7521],{67521:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a}),n(67294);var r=n(63475),c=n(11965);function a(e){let{height:t,width:n,echartOptions:a,formData:i,onContextMenu:u}=e;const l={contextmenu:e=>{if(u){var t,n;e.event.stop();const r=e.event.event,c=a.series[0].data,l=null==(t=c.find((t=>t.id===e.data.source)))?void 0:t.name,h=null==(n=c.find((t=>t.id===e.data.target)))?void 0:n.name;if(l&&h){const e=[{col:i.source,op:"==",val:l,formattedVal:l},{col:i.target,op:"==",val:h,formattedVal:h}];u(e,r.clientX,r.clientY)}}}};return(0,c.tZ)(r.Z,{height:t,width:n,echartOptions:a,eventHandlers:l})}},63475:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(78580),c=n.n(r),a=n(67294),i=n(51995),u=n(29027),l=n(11965);const h=i.iK.div`
  height: ${e=>{let{height:t}=e;return t}};
  width: ${e=>{let{width:t}=e;return t}};
`;function s(e,t){let{width:n,height:r,echartOptions:i,eventHandlers:s,zrEventHandlers:o,selectedValues:d={}}=e;const f=(0,a.useRef)(null),g=(0,a.useRef)(),p=(0,a.useMemo)((()=>Object.keys(d)||[]),[d]),v=(0,a.useRef)([]);(0,a.useImperativeHandle)(t,(()=>({getEchartInstance:()=>g.current}))),(0,a.useEffect)((()=>{f.current&&(g.current||(g.current=(0,u.S1)(f.current)),Object.entries(s||{}).forEach((e=>{var t,n;let[r,c]=e;null==(t=g.current)||t.off(r),null==(n=g.current)||n.on(r,c)})),Object.entries(o||{}).forEach((e=>{var t,n;let[r,c]=e;null==(t=g.current)||t.getZr().off(r),null==(n=g.current)||n.getZr().on(r,c)})),g.current.setOption(i,!0))}),[i,s,o]),(0,a.useEffect)((()=>{g.current&&(g.current.dispatchAction({type:"downplay",dataIndex:v.current.filter((e=>!c()(p).call(p,e)))}),p.length&&g.current.dispatchAction({type:"highlight",dataIndex:p}),v.current=p)}),[p]);const w=(0,a.useCallback)((e=>{let{width:t,height:n}=e;g.current&&g.current.resize({width:t,height:n})}),[]);return(0,a.useEffect)((()=>{w({width:n,height:r})}),[]),(0,a.useLayoutEffect)((()=>{w({width:n,height:r})}),[n,r,w]),(0,l.tZ)(h,{ref:f,height:r,width:n})}const o=(0,a.forwardRef)(s)}}]);
//# sourceMappingURL=841110afc580918dc1e0.chunk.js.map